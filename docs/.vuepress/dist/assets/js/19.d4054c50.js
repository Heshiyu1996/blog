(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{378:function(t,a,s){t.exports=s.p+"assets/img/fiber-3.bad4b82e.png"},379:function(t,a,s){t.exports=s.p+"assets/img/fiber-1.70c7f947.png"},380:function(t,a,s){t.exports=s.p+"assets/img/fiber-2.f0009644.png"},417:function(t,a,s){"use strict";s.r(a);var e=s(3),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"react-fiber"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-fiber"}},[t._v("#")]),t._v(" React Fiber")]),t._v(" "),e("blockquote",[e("p",[t._v("Fiberæ˜¯React16ä¸­æ–°çš„åè°ƒå¼•æ“ã€‚")]),t._v(" "),e("p",[t._v("å®ƒçš„ä¸»è¦ç›®çš„æ˜¯ä½¿Vitrual DOMå¯ä»¥è¿›è¡Œå¢é‡å¼çš„æ¸²æŸ“ï¼ˆæ¥è‡ªReactå®˜æ–¹æ–‡æ¡£ï¼‰ã€‚")]),t._v(" "),e("p",[t._v("update: 2020-1-3")])]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#react-fiber"}},[t._v("React Fiber")]),e("ul",[e("li",[e("a",{attrs:{href:"#æµè§ˆå™¨é‡Œçš„-å•å¤„ç†å™¨è°ƒåº¦"}},[t._v("æµè§ˆå™¨é‡Œçš„â€œå•å¤„ç†å™¨è°ƒåº¦â€")])]),e("li",[e("a",{attrs:{href:"#ä»¥å‰çš„reconciliationä¸å¯ä¸­æ–­ï¼ï¼ˆğŸ¤”å¼•å…¥fiberçš„åŸå› ï¼‰"}},[t._v("ä»¥å‰çš„Reconciliationä¸å¯ä¸­æ–­ï¼ï¼ˆğŸ¤”å¼•å…¥Fiberçš„åŸå› ï¼‰")])]),e("li",[e("a",{attrs:{href:"#ä»€ä¹ˆæ˜¯fiber"}},[t._v("ä»€ä¹ˆæ˜¯Fiber")])]),e("li",[e("a",{attrs:{href:"#å‚è€ƒé“¾æ¥"}},[t._v("å‚è€ƒé“¾æ¥")])])])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"æµè§ˆå™¨é‡Œçš„-å•å¤„ç†å™¨è°ƒåº¦"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨é‡Œçš„-å•å¤„ç†å™¨è°ƒåº¦"}},[t._v("#")]),t._v(" æµè§ˆå™¨é‡Œçš„â€œå•å¤„ç†å™¨è°ƒåº¦â€")]),t._v(" "),e("p",[e("RouterLink",{attrs:{to:"/skill/computeracy/scheduling-strategy/"}},[t._v("å¤ä¹ å•å¤„ç†å™¨è°ƒåº¦ç­–ç•¥")])],1),t._v(" "),e("p",[t._v("æˆ‘ä»¬å¯ä»¥"),e("strong",[t._v("æŠŠæµè§ˆå™¨ä¸­JavaScriptæ‰§è¡Œç¯å¢ƒï¼ˆå³Rendererè¿›ç¨‹ï¼‰å½“ä½œæ˜¯ä¸€å°å•å¤„ç†å™¨")]),t._v("ã€‚")]),t._v(" "),e("p",[t._v("æ‰“å¼€Chrome-ä»»åŠ¡ç®¡ç†å™¨ï¼Œå¯ä»¥å‘ç°ï¼š\n"),e("img",{attrs:{src:s(378),alt:"alt"}})]),t._v(" "),e("p",[t._v("1ã€æµè§ˆå™¨æ˜¯"),e("strong",[t._v("å¤šè¿›ç¨‹")]),t._v("çš„ï¼Œä¸”å…¶ä¸‹å„ä¸ªè¿›ç¨‹çš„èŒè´£å¦‚ä¸‹ï¼š")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ä¸»è¿›ç¨‹ï¼ˆBrowserè¿›ç¨‹ï¼‰ï¼š\n    - æµè§ˆå™¨çš„ç•Œé¢äº¤äº’ï¼ˆå‰è¿›ã€åé€€ç­‰ï¼‰\n    - è´Ÿè´£å„ä¸ªé¡µé¢çš„ç®¡ç†ï¼ˆåˆ›å»ºã€é”€æ¯å…¶å®ƒè¿›ç¨‹ï¼‰\n    - å°†Rendererè¿›ç¨‹å¾—åˆ°çš„å†…å­˜ä¸­çš„Bitmapï¼Œç»˜åˆ¶åˆ°ç•Œé¢ä¸Š\n    - é™æ€èµ„æºä¸‹è½½\n\næµè§ˆå™¨å†…æ ¸ï¼ˆRendererè¿›ç¨‹ï¼‰ï¼š\n    - JSå¼•æ“çº¿ç¨‹ï¼šJSè§£æå’Œæ‰§è¡Œ\n    - GUIæ¸²æŸ“çº¿ç¨‹ï¼šå¸ƒå±€/ç»˜åˆ¶\n    - äº‹ä»¶è§¦å‘çº¿ç¨‹ï¼šäº‹ä»¶å¤„ç†\n\nGPUè¿›ç¨‹ï¼šæœ€å¤šä¸€ä¸ªï¼Œç”¨äº3Dç»˜åˆ¶ç­‰\n\nç¬¬ä¸‰æ–¹æ’ä»¶è¿›ç¨‹ï¼šæ¯ç§ç±»å‹çš„è°·æ­Œæµè§ˆå™¨æ’ä»¶å¯¹åº”ä¸€ä¸ªè¿›ç¨‹ï¼Œä»…å½“ä½¿ç”¨äº†è¯¥æ’ä»¶æ—¶æ‰åˆ›å»º\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br")])]),e("blockquote",[e("p",[t._v('"Browserè¿›ç¨‹"å’Œ"Rendererè¿›ç¨‹"ä¹‹é—´å¯ä»¥é€šè¿‡ '),e("code",[t._v("RendererHostæ¥å£")]),t._v(" å–å¾—è”ç³»ã€‚")])]),t._v(" "),e("p",[t._v("2ã€JSå¼•æ“æ˜¯"),e("strong",[t._v("å•çº¿ç¨‹è¿è¡Œ")]),t._v("ï¼ˆåœ¨Rendererè¿›ç¨‹ä¸‹ï¼‰ï¼›")]),t._v(" "),e("p",[t._v("3ã€JSå¼•æ“çº¿ç¨‹ã€GUIæ¸²æŸ“çº¿ç¨‹"),e("strong",[t._v("äº’æ–¥")]),t._v("ï¼›")]),t._v(" "),e("p",[t._v("4ã€å¦‚æœ"),e("strong",[t._v("JSå¼•æ“ä¸­çš„æŸä¸ªä»»åŠ¡")]),t._v("é•¿æœŸéœ¸å CPUï¼Œæµè§ˆå™¨ä¼šå‡ºç°å¡æ­»çŠ¶æ€ã€‚")]),t._v(" "),e("h3",{attrs:{id:"å¯¹äºå‰ç«¯æ¡†æ¶ï¼Œ-è§£å†³å¡æ­»-æœ‰ä¸‰ç§æ€è·¯"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹äºå‰ç«¯æ¡†æ¶ï¼Œ-è§£å†³å¡æ­»-æœ‰ä¸‰ç§æ€è·¯"}},[t._v("#")]),t._v(" å¯¹äºå‰ç«¯æ¡†æ¶ï¼Œâ€œè§£å†³å¡æ­»â€æœ‰ä¸‰ç§æ€è·¯:")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("ä¼˜åŒ–JSå¼•æ“ä¸­çš„æ¯ä¸ªä»»åŠ¡ã€‚")])]),t._v(" "),e("blockquote",[e("p",[t._v("Vueä½¿ç”¨çš„æ˜¯è¿™ç§ã€‚å› ä¸ºå“åº”å¼æœºåˆ¶å¯ä»¥è®©Vueæ›´ç²¾ç¡®åœ°è¿›è¡ŒèŠ‚ç‚¹æ›´æ–°ã€‚")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("å¿«é€Ÿå“åº”ç”¨æˆ·ï¼Œä¸é˜»å¡ç”¨æˆ·çš„äº¤äº’")])]),t._v(" "),e("blockquote",[e("p",[t._v("Reactä½¿ç”¨çš„æ˜¯è¿™ç§ï¼Œæ‰€ä»¥å¼•å…¥äº†Fiberæ¶æ„ã€‚")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("å°è¯•Workerå¤šçº¿ç¨‹")])]),t._v(" "),e("blockquote",[e("p",[t._v('ä¿è¯çŠ¶æ€å’Œè§†å›¾çš„ä¸€è‡´æ€§å¾ˆéº»çƒ¦ã€‚Workerç›¸å½“äºJSå¼•æ“å‘æµè§ˆå™¨ç”³è¯·å¼€ä¸€ä¸ªworkerçº¿ç¨‹ã€‚"JSå¼•æ“çº¿ç¨‹"å’Œ"workerçº¿ç¨‹"ä¹‹é—´é€šè¿‡ç‰¹å®šæ–¹å¼é€šä¿¡ï¼ˆä½†workerçº¿ç¨‹å®Œå…¨å—æ§äºä¸»çº¿ç¨‹ï¼Œè€Œä¸”ä¸èƒ½æ“ä½œDOMï¼ŒJSå¼•æ“ä¾ç„¶æ˜¯å•çº¿ç¨‹çš„ï¼‰ã€‚')])])])]),t._v(" "),e("h2",{attrs:{id:"ä»¥å‰çš„reconciliationä¸å¯ä¸­æ–­ï¼ï¼ˆğŸ¤”å¼•å…¥fiberçš„åŸå› ï¼‰"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥å‰çš„reconciliationä¸å¯ä¸­æ–­ï¼ï¼ˆğŸ¤”å¼•å…¥fiberçš„åŸå› ï¼‰"}},[t._v("#")]),t._v(" ä»¥å‰çš„Reconciliationä¸å¯ä¸­æ–­ï¼ï¼ˆğŸ¤”å¼•å…¥Fiberçš„åŸå› ï¼‰")]),t._v(" "),e("p",[e("strong",[t._v("é€šè¿‡æ¯”è¾ƒæ–°ã€æ—§Virtual DOMæ ‘æ¥æ‰¾å‡ºå˜åŠ¨äº†çš„èŠ‚ç‚¹ï¼Œç„¶ååŒæ­¥æ›´æ–°å®ƒä»¬ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºReconciliationï¼ˆåè°ƒï¼‰")]),t._v("ã€‚")]),t._v(" "),e("blockquote",[e("p",[t._v("Reconciliationæ˜¯CPUå¯†é›†å‹æ“ä½œï¼Œç›¸å½“äºâ€œé•¿è¿›ç¨‹â€ã€‚")]),t._v(" "),e("p",[t._v("ç±»æ¯”â€œè¿›ç¨‹è°ƒåº¦â€ï¼Œæˆ‘ä»¬åº”è¯¥è®©é«˜ä¼˜å…ˆçº§çš„è¿›ç¨‹ï¼ˆæˆ–è€…çŸ­è¿›ç¨‹ï¼‰å…ˆè¿è¡Œï¼Œä¸èƒ½è®©é•¿è¿›ç¨‹é•¿æœŸéœ¸å èµ„æºã€‚")])]),t._v(" "),e("h3",{attrs:{id:"å¼•å…¥fiberå‰"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¼•å…¥fiberå‰"}},[t._v("#")]),t._v(" å¼•å…¥Fiberå‰")]),t._v(" "),e("p",[t._v("å› ä¸º"),e("strong",[t._v("Reconciliationä¸å¯ä¸­æ–­")]),t._v("ï¼Œæ‰€ä»¥Reactä¼šéœ¸å ç€"),e("strong",[t._v("JSå¼•æ“çº¿ç¨‹")]),t._v("ï¼Œå¾ˆå¯èƒ½ä¼šå¯¼è‡´ç”¨æˆ·"),e("strong",[t._v("å¾—ä¸åˆ°å“åº”")]),t._v("æˆ–"),e("strong",[t._v("å¡é¡¿")]),t._v("ã€‚")]),t._v(" "),e("blockquote",[e("p",[t._v("åŸå› ï¼šJSå¼•æ“çº¿ç¨‹ã€GUIæ¸²æŸ“çº¿ç¨‹"),e("strong",[t._v("äº’æ–¥")]),t._v("ã€‚")])]),t._v(" "),e("h3",{attrs:{id:"å¼•å…¥fiberå"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¼•å…¥fiberå"}},[t._v("#")]),t._v(" å¼•å…¥Fiberå")]),t._v(" "),e("p",[e("strong",[t._v("Fiberæ˜¯React 16ä¸­æ–°çš„åè°ƒå¼•æ“")]),t._v("ã€‚")]),t._v(" "),e("blockquote",[e("p",[t._v("å®ƒå¯ä»¥"),e("strong",[t._v("ä½¿Reconciliationè¿‡ç¨‹å˜æˆå¯ä¸­æ–­")]),t._v("ï¼Œâ€œé€‚æ—¶â€åœ°è®©å‡ºCPUæ‰§è¡Œæƒã€‚")])]),t._v(" "),e("p",[t._v("å¥½å¤„ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("è®©æµè§ˆå™¨åŠæ—¶å“åº”äº¤äº’")]),t._v(" "),e("li",[t._v("åˆ†æ‰¹å»¶æ—¶å¯¹DOMè¿›è¡Œæ“ä½œ")]),t._v(" "),e("li",[t._v("ä½¿æµè§ˆå™¨ä¼šå¯¹ä»£ç è¿›è¡Œç¼–è¯‘ä¼˜åŒ–ï¼ˆJITï¼‰åŠè¿›è¡Œçƒ­ä»£ç ä¼˜åŒ–ï¼Œæˆ–è€…å¯¹reflowè¿›è¡Œä¿®æ­£ï¼ˆï¼Ÿï¼‰")])]),t._v(" "),e("p",[t._v("é‚£å®ƒæ˜¯å¦‚ä½•ä½¿Reconciliationå˜å¾—å¯ä¸­æ–­çš„å‘¢ï¼Ÿ")]),t._v(" "),e("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯fiber"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯fiber"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯Fiber")]),t._v(" "),e("p",[t._v("Fiberçš„æ€æƒ³ï¼š"),e("strong",[t._v("å¯ä»¥ä¸­æ–­Reactçš„æ¸²æŸ“è¿‡ç¨‹ã€‚ä¸­æ–­åReactä¼šä¸»åŠ¨å°†æ§åˆ¶æƒäº¤å›æµè§ˆå™¨ï¼Œè®©ä½ç»™é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼Œç­‰åˆ°æµè§ˆå™¨ç©ºé—²åå†æ¢å¤æ¸²æŸ“ã€‚")])]),t._v(" "),e("h3",{attrs:{id:"è®©å‡ºæ§åˆ¶æƒæœ‰å“ªäº›éœ€è¦æ³¨æ„çš„ï¼Ÿ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#è®©å‡ºæ§åˆ¶æƒæœ‰å“ªäº›éœ€è¦æ³¨æ„çš„ï¼Ÿ"}},[t._v("#")]),t._v(" è®©å‡ºæ§åˆ¶æƒæœ‰å“ªäº›éœ€è¦æ³¨æ„çš„ï¼Ÿ")]),t._v(" "),e("p",[t._v("2ä¸ªå…³é”®ç‚¹ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("å¦‚ä½•"),e("strong",[t._v("ä¸»åŠ¨å½’è¿˜æ§åˆ¶æƒ")]),t._v("ï¼ŸğŸ˜†")]),t._v(" "),e("li",[e("strong",[t._v("ä»€ä¹ˆæ—¶å€™")]),t._v("å½’è¿˜ï¼Ÿâ°")])]),t._v(" "),e("h4",{attrs:{id:"_1ã€ä¸»åŠ¨å½’è¿˜æ§åˆ¶æƒ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€ä¸»åŠ¨å½’è¿˜æ§åˆ¶æƒ"}},[t._v("#")]),t._v(" 1ã€ä¸»åŠ¨å½’è¿˜æ§åˆ¶æƒ")]),t._v(" "),e("p",[t._v("å› ä¸ºæµè§ˆå™¨æ²¡æœ‰æŠ¢å æœºåˆ¶ï¼Œæ‰€ä»¥è¦é‡‡ç”¨"),e("strong",[t._v("åˆä½œå¼è°ƒåº¦ï¼ˆCooperative Schedulingï¼‰æœºåˆ¶")]),t._v("ã€‚")]),t._v(" "),e("blockquote",[e("p",[t._v("ä¸â€œåˆä½œå¼è°ƒåº¦â€ç›¸åçš„æ˜¯â€œæŠ¢å å¼è°ƒåº¦â€ï¼ˆPreemptive Schedulingï¼‰")])]),t._v(" "),e("p",[e("img",{attrs:{src:s(379),alt:"alt"}})]),t._v(" "),e("p",[e("strong",[t._v("åˆä½œå¼è°ƒåº¦æœºåˆ¶")]),t._v("çš„å¤§è‡´æ€æƒ³ï¼š")]),t._v(" "),e("p",[e("strong",[t._v("Reactå‘æµè§ˆå™¨ç”³è¯·ä¸€ä¸ªâ€œæœ‰æœŸé™çš„æ‰§è¡Œæƒâ€ï¼›ï¼ˆç”³è¯·æ—¶é—´ç‰‡ï¼‰")])]),t._v(" "),e("p",[t._v("â¡ï¸ "),e("strong",[t._v("æµè§ˆå™¨åœ¨æ¯å¸§å†…æ‰§è¡Œå®Œä»»åŠ¡ï¼ˆä¸€èˆ¬æ˜¯â€œç»˜åˆ¶â€ï¼‰åå°±ä¼šæ‰§è¡Œå›è°ƒï¼Œå‘Šè¯‰Reactèƒ½å€Ÿå¤šé•¿æ—¶é—´ï¼›")])]),t._v(" "),e("p",[t._v("â¡ï¸ "),e("strong",[t._v("å€Ÿå®ŒåReactè¦æŒ‰ç…§çº¦å®šï¼Œâ€œä¸»åŠ¨â€å½’è¿˜æ§åˆ¶æƒç»™æµè§ˆå™¨")]),t._v("ã€‚")]),t._v(" "),e("blockquote",[e("p",[t._v("å½“ç„¶è¶…æ—¶ä¸è¿˜ï¼Œæµè§ˆå™¨ä¹Ÿæ˜¯æ²¡åŠæ³•çš„ğŸ¤·â€â™‚ï¸ã€‚å…¨å‡­è‡ªå¾‹ï¼Œäº’ç›¸ä¿¡ä»»ã€‚")])]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("div",{staticClass:"highlighted"},[t._v("Â ")]),e("div",{staticClass:"highlighted"},[t._v("Â ")]),e("div",{staticClass:"highlighted"},[t._v("Â ")]),e("div",{staticClass:"highlighted"},[t._v("Â ")]),e("div",{staticClass:"highlighted"},[t._v("Â ")]),e("br")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("å› ä¸ºæµè§ˆå™¨ï¼ˆä¸¥æ ¼è¯´æ˜¯Rendererè¿›ç¨‹ï¼‰åœ¨ä¸€å¸§å†…å¯èƒ½ä¼šæ‰§è¡Œä¸‹åˆ—ä»»åŠ¡ï¼ˆæ‰§è¡Œé¡ºåºåŸºæœ¬å›ºå®šï¼‰ï¼š\n - å¤„ç†ç”¨æˆ·è¾“å…¥äº‹ä»¶ï¼ˆäº‹ä»¶è§¦å‘çº¿ç¨‹ï¼‰\n - JSæ‰§è¡Œï¼ˆJSå¼•æ“çº¿ç¨‹ï¼‰\n - requestAnimationè°ƒç”¨\n - å¸ƒå±€Layoutï¼ˆGUIæ¸²æŸ“çº¿ç¨‹ï¼‰\n - ç»˜åˆ¶Paintï¼ˆGUIæ¸²æŸ“çº¿ç¨‹ï¼‰\n")])]),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("p",[t._v("åœ¨æ¯ä¸€å¸§å†…ï¼Œå¦‚æœæµè§ˆå™¨åœ¨æ‰§è¡Œå®Œä¸Šé¢çš„ä»»åŠ¡åè¿˜æœ‰å‰©ä½™æ—¶é—´ï¼Œå°±ä¼šæ‰§è¡Œ"),e("code",[t._v("requestIdleCallback")]),t._v("ä¸­ä¼ å…¥çš„å›è°ƒï¼Œå¹¶ä¼ å…¥â€œèƒ½å€Ÿç»™Reactçš„æ—¶é—´é•¿åº¦â€ï¼š")]),t._v(" "),e("p",[e("img",{attrs:{src:s(380),alt:"alt"}})]),t._v(" "),e("p",[e("code",[t._v("requestIdleCallback")]),t._v("APIï¼š")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("window"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestIdleCallback")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æµè§ˆå™¨åœ¨ç©ºé—²æ—¶ï¼Œä¼šæ‰§è¡Œè¿™ä¸ªå›è°ƒï¼ŒåŒæ—¶ä¼šç»™å›è°ƒä¼ å…¥ä¸€ä¸ªdealineå¯¹è±¡")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨dealineå¯¹è±¡ä¸­åŒ…å«ç€æµè§ˆå™¨ç›®å‰æœ‰å¤šå°‘æ—¶é—´ä¾›æˆ‘ä»¬æ‰§è¡Œ")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("callback")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("dealine"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" IdleDeadline")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸ºäº†é¿å…æµè§ˆå™¨å› ç¹å¿™ä¸”æ— å‰©ä½™æ—¶é—´å¯¼è‡´çš„é¥¿æ­»ï¼Œå¯ä¼ å…¥ä¸€ä¸ªè¶…æ—¶æ—¶é—´æ¥å¼ºåˆ¶è®©æµè§ˆå™¨æ‰§è¡Œå›è°ƒã€‚")]),t._v("\n    option"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" timeout"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" number "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("p",[e("code",[t._v("IdleDeadline")]),t._v("æ¥å£ï¼š")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IdleDealine")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    didTimeout"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" boolean "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡¨ç¤ºä»»åŠ¡æ‰§è¡Œæ˜¯å¦è¶…è¿‡çº¦å®šæ—¶é—´")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("timeRemaining")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DOMHighResTimeStamp "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»»åŠ¡å¯ä¾›æ‰§è¡Œçš„å‰©ä½™æ—¶é—´")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("blockquote",[e("p",[t._v("ç›®å‰"),e("code",[t._v("requestIdCallback")]),t._v("åªæœ‰Chromeæ”¯æŒã€‚Reactè‡ªå·±å®ç°äº†ä¸€ä¸ªï¼ˆåˆ©ç”¨"),e("code",[t._v("MessageChannel")]),t._v("å°†å›è°ƒå»¶è¿Ÿåˆ°â€œç»˜åˆ¶Paintâ€ä¹‹åæ‰§è¡Œï¼‰"),e("a",{attrs:{href:"https://github.com/facebook/react/blob/master/packages/scheduler/src/forks/SchedulerHostConfig.default.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("æŸ¥çœ‹æºç "),e("OutboundLink")],1)])]),t._v(" "),e("blockquote",[e("p",[t._v("å¦å¤–ï¼Œåœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œæ¯ä¸ªæ—¶é—´ç‰‡åº”è¯¥åˆ’åˆ†ä¸º16msï¼Œå› ä¸ºäººç±»èƒ½æ„ŸçŸ¥åˆ°æœ€ä½é™åº¦çš„é¢‘ç‡æ˜¯æ¯ç§’60å¸§ï¼ˆ1000ms / 60 = 16 msï¼‰ã€‚")])]),t._v(" "),e("h4",{attrs:{id:"_2ã€ä»€ä¹ˆæ—¶å€™å½’è¿˜ï¼Ÿ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€ä»€ä¹ˆæ—¶å€™å½’è¿˜ï¼Ÿ"}},[t._v("#")]),t._v(" 2ã€ä»€ä¹ˆæ—¶å€™å½’è¿˜ï¼Ÿ")]),t._v(" "),e("p",[t._v("å› ä¸ºåœ¨æµè§ˆå™¨ä¸­æ²¡åŠæ³•åˆ¤æ–­åé¢æ˜¯å¦æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼Œæ‰€ä»¥è¦é€šè¿‡"),e("strong",[t._v("è¶…æ—¶æ£€æŸ¥çš„æœºåˆ¶")]),t._v("æ¥åˆ¤æ–­æ˜¯å¦è¦å½’è¿˜æ§åˆ¶æƒã€‚")]),t._v(" "),e("p",[e("strong",[t._v("è¶…æ—¶æ£€æŸ¥çš„æœºåˆ¶")]),t._v("çš„å¤§è‡´æ€æƒ³ï¼š")]),t._v(" "),e("p",[e("strong",[t._v("ç»™Reactä¸€ä¸ªæ—¶é—´èŒƒå›´ï¼ˆåœ¨requestIdleCallbackä¸­çš„å›è°ƒä¼ å…¥çš„æ—¶é—´èŒƒå›´timeRemainingï¼‰")])]),t._v(" "),e("p",[t._v("â¡ï¸ "),e("strong",[t._v("Reactåœ¨æ¯æ‰§è¡Œå®Œä¸€ä¸ªå°ä»»åŠ¡åæ£€æŸ¥æ˜¯å¦è¶…æ—¶ï¼›")])]),t._v(" "),e("p",[t._v("â¡ï¸ "),e("strong",[t._v("è‹¥è¶…æ—¶å°±åœæ­¢æ‰§è¡Œï¼Œå°†æ§åˆ¶æƒå½’è¿˜ç»™æµè§ˆå™¨ã€‚")])]),t._v(" "),e("h2",{attrs:{id:"å‚è€ƒé“¾æ¥"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒé“¾æ¥"}},[t._v("#")]),t._v(" å‚è€ƒé“¾æ¥")]),t._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://juejin.im/post/5a6547d0f265da3e283a1df7",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»æµè§ˆå™¨å¤šè¿›ç¨‹åˆ°JSå•çº¿ç¨‹ï¼ŒJSè¿è¡Œæœºåˆ¶æœ€å…¨é¢çš„ä¸€æ¬¡æ¢³ç†"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/faq-internals.html#what-is-react-fiber",target:"_blank",rel:"noopener noreferrer"}},[t._v("Virtual DOM åŠå†…æ ¸"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://juejin.im/post/5dadc6045188255a270a0f85#heading-2",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™å¯èƒ½æ˜¯æœ€é€šä¿—çš„ React Fiber(æ—¶é—´åˆ†ç‰‡) æ‰“å¼€æ–¹å¼"),e("OutboundLink")],1)])])])])}),[],!1,null,null,null);a.default=r.exports}}]);