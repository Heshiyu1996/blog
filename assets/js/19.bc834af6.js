(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{560:function(v,_,t){v.exports=t.p+"assets/img/HTTP-2.582a0d22.png"},561:function(v,_,t){v.exports=t.p+"assets/img/HTTP-3.521dff8c.png"},562:function(v,_,t){v.exports=t.p+"assets/img/HTTP-1.b37cdc97.png"},563:function(v,_,t){v.exports=t.p+"assets/img/HTTP-4.b3288ea1.png"},753:function(v,_,t){"use strict";t.r(_);var e=t(56),a=Object(e.a)({},(function(){var v=this,_=v.$createElement,e=v._self._c||_;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("h1",{attrs:{id:"http"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http"}},[v._v("#")]),v._v(" HTTP")]),v._v(" "),e("blockquote",[e("p",[v._v("与HTTP协议相关：请求头、响应头、状态码、报文格式、请求方式、GET和POST的区别、完整的http过程")])]),v._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#http"}},[v._v("HTTP")]),e("ul",[e("li",[e("a",{attrs:{href:"#请求头-常用"}},[v._v("请求头（常用）")])]),e("li",[e("a",{attrs:{href:"#响应头-常用"}},[v._v("响应头（常用）")])]),e("li",[e("a",{attrs:{href:"#状态码"}},[v._v("状态码")])]),e("li",[e("a",{attrs:{href:"#报文格式"}},[v._v("报文格式")])]),e("li",[e("a",{attrs:{href:"#请求方式"}},[v._v("请求方式")])]),e("li",[e("a",{attrs:{href:"#get和post区别"}},[v._v("GET和POST区别")])]),e("li",[e("a",{attrs:{href:"#http和https的区别"}},[v._v("HTTP和HTTPS的区别")])]),e("li",[e("a",{attrs:{href:"#https的实现原理"}},[v._v("HTTPS的实现原理")])]),e("li",[e("a",{attrs:{href:"#http2-0"}},[v._v("HTTP2.0")])]),e("li",[e("a",{attrs:{href:"#http-1-0、http-1-1、http-2和tcp连接的关系"}},[v._v("HTTP/1.0、HTTP/1.1、HTTP/2和TCP连接的关系")])]),e("li",[e("a",{attrs:{href:"#参考链接"}},[v._v("参考链接")])])])])])]),e("p"),v._v(" "),e("h2",{attrs:{id:"请求头-常用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#请求头-常用"}},[v._v("#")]),v._v(" 请求头（常用）")]),v._v(" "),e("ul",[e("li",[e("p",[e("code",[v._v("Accept")]),v._v("：可接受的响应内容类型")]),v._v(" "),e("ul",[e("li",[v._v("application/json")]),v._v(" "),e("li",[v._v("text/plain")]),v._v(" "),e("li",[v._v("*/*")])])]),v._v(" "),e("li",[e("p",[e("code",[v._v("Accept-Charset")]),v._v("：可接受的字符集")])]),v._v(" "),e("li",[e("p",[e("code",[v._v("Accept-Encoding")]),v._v("：声明浏览器支持的压缩方式（可以提高前端性能）")]),v._v(" "),e("ul",[e("li",[e("code",[v._v("gzip")]),v._v("（支持更广，对"),e("strong",[v._v("document、css、js")]),v._v("效果最佳）")]),v._v(" "),e("li",[v._v("（响应头）"),e("code",[v._v("Content-Encoding")]),v._v("指的是"),e("code",[v._v("服务端")]),v._v("最终采用的压缩方式")])])]),v._v(" "),e("li",[e("p",[e("code",[v._v("Cache-Control")]),v._v("：指定这个资源在本次请求的缓存策略")])]),v._v(" "),e("li",[e("p",[e("code",[v._v("Connection")]),v._v("：浏览器想要优先使用的连接类型（例：keep-alive、Upgrade）")]),v._v(" "),e("ul",[e("li",[e("code",[v._v("keep-alive")]),v._v("表示复用TCP连接（1.1默认，1.0需指定）")]),v._v(" "),e("li",[e("code",[v._v("Upgrade")]),v._v("表示希望升级到 websocket协议")])])]),v._v(" "),e("li",[e("p",[e("code",[v._v("Cookie")]),v._v("：由之前服务器通过Set-Cookie设置的Cookie")])]),v._v(" "),e("li",[e("p",[e("code",[v._v("Content-Type")]),v._v("：请求的MIME（互联网媒体类型）类型")]),v._v(" "),e("ul",[e("li",[v._v("【text】text/html（HTML格式）、text/plain（纯文本格式）、text/xml（XML格式）")]),v._v(" "),e("li",[v._v("【image】image/gif、image/jpeg、image/png")]),v._v(" "),e("li",[v._v("【application】application/json、application/xml、application/x-www-form-urlencoded")]),v._v(" "),e("li",[v._v("【file】multipart/form-data（文件上传）")])])]),v._v(" "),e("li",[e("p",[e("code",[v._v("Host")]),v._v("：表示服务器的域名、端口号")])]),v._v(" "),e("li",[e("p",[e("code",[v._v("Origin")]),v._v("：表示发起请求的源，也指明该请求是一个"),e("strong",[v._v("CORS（跨域资源共享）请求")])]),v._v(" "),e("ul",[e("li",[v._v("对于CORS请求，服务端需要在响应头下发 "),e("code",[v._v("Access-Control-Allow-Origin")]),v._v(" 属性，以表示"),e("code",[v._v("允许跨域访问的请求源")])])])]),v._v(" "),e("li",[e("p",[e("code",[v._v("Referer")]),v._v("：表示该请求是从哪里链接过来的")])]),v._v(" "),e("li",[e("p",[e("code",[v._v("User-Agent")]),v._v("：表示浏览器的身份标识字符串")])])]),v._v(" "),e("p",[e("img",{attrs:{src:t(560),alt:"alt"}})]),v._v(" "),e("h3",{attrs:{id:"origin和referer的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#origin和referer的区别"}},[v._v("#")]),v._v(" Origin和Referer的区别")]),v._v(" "),e("ul",[e("li",[v._v("Origin\n"),e("ul",[e("li",[v._v("表明该请求从哪个域名发起（只包含: 协议、域名）")]),v._v(" "),e("li",[v._v("一般只存在于 "),e("code",[v._v("CORS跨域请求")])])])]),v._v(" "),e("li",[v._v("Referer\n"),e("ul",[e("li",[v._v("该请求 "),e("strong",[v._v("从哪个域名的哪个路径下的哪个参数")]),v._v(" 发起（包含: 协议、域名、"),e("strong",[v._v("参数")]),v._v("）")]),v._v(" "),e("li",[v._v("一般用来预防 "),e("code",[v._v("CSRF攻击")])])])])]),v._v(" "),e("h2",{attrs:{id:"响应头-常用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#响应头-常用"}},[v._v("#")]),v._v(" 响应头（常用）")]),v._v(" "),e("ul",[e("li",[e("code",[v._v("Access-Control-Allow-Origin")]),v._v("：指定哪些网域名可以跨域资源共享")]),v._v(" "),e("li",[e("code",[v._v("Access-Contol-Allow-Credentials")]),v._v("：请求是否可以携带Cookie")]),v._v(" "),e("li",[e("code",[v._v("Cache-Control")]),v._v("：告知浏览器，针对这个资源的缓存策略")]),v._v(" "),e("li",[e("code",[v._v("Connection")]),v._v("：针对该连接所预期的选项")]),v._v(" "),e("li",[e("code",[v._v("Content-Encoding")]),v._v("：服务端压缩资源的方式")]),v._v(" "),e("li",[e("code",[v._v("Expires")]),v._v("：浏览器缓存机制（资源的存活周期，若为0或负值，则关闭页面时清除）")]),v._v(" "),e("li",[e("code",[v._v("ETag")]),v._v("：浏览器缓存机制（资源内容的唯一标识）")]),v._v(" "),e("li",[e("code",[v._v("Last-Modified")]),v._v("：浏览器缓存机制（资源的上次修改时间）")]),v._v(" "),e("li",[e("code",[v._v("Location")]),v._v("：重定向")]),v._v(" "),e("li",[e("code",[v._v("Server")]),v._v("：服务器的名称（nginx）")]),v._v(" "),e("li",[e("code",[v._v("Set-Cookie")]),v._v("：用来在浏览器种cookie（一旦被种下，当浏览器访问url就会自动带上这个cookie）")]),v._v(" "),e("li",[e("code",[v._v("Vary")]),v._v("：进行一些缓存判断（"),e("strong",[v._v("在执行 浏览器缓存机制 时会读取")]),v._v("）")])]),v._v(" "),e("p",[e("img",{attrs:{src:t(561),alt:"alt"}})]),v._v(" "),e("h2",{attrs:{id:"状态码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#状态码"}},[v._v("#")]),v._v(" 状态码")]),v._v(" "),e("ul",[e("li",[v._v("100：continue，让浏览器继续发送请求体")])]),v._v(" "),e("hr"),v._v(" "),e("ul",[e("li",[v._v("200：ok，正常返回")])]),v._v(" "),e("hr"),v._v(" "),e("ul",[e("li",[v._v("301：永久性重定向")]),v._v(" "),e("li",[v._v("302：临时性重定向\n"),e("ul",[e("li",[v._v("相同点：以上两个都会重定向，搜索引擎 "),e("strong",[v._v("都会抓取最新内容")])]),v._v(" "),e("li",[v._v("不同点：搜索引擎会保存 "),e("strong",[v._v("新地址（对于301）")]),v._v("；保存 "),e("strong",[v._v("旧地址（对于302，因为它认为新地址只是临时的）")])])])]),v._v(" "),e("li",[v._v("304：Not Modified，响应内容没有改变（在协商缓存 - 有效后触发）")])]),v._v(" "),e("hr"),v._v(" "),e("ul",[e("li",[v._v("400：Bad Request，服务器无法理解请求格式")]),v._v(" "),e("li",[v._v("401：Unauthorized，当前身份未登录（或未认证）")]),v._v(" "),e("li",[v._v("403：Forbidden，拒绝访问，当前用户未授权此操作（偏业务，更具体）")]),v._v(" "),e("li",[v._v("404：Not Found，找不到匹配资源")])]),v._v(" "),e("hr"),v._v(" "),e("ul",[e("li",[v._v("500：常见服务端错误")]),v._v(" "),e("li",[v._v("503：服务端暂时无法处理请求（负载过大）")])]),v._v(" "),e("h2",{attrs:{id:"报文格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#报文格式"}},[v._v("#")]),v._v(" 报文格式")]),v._v(" "),e("ul",[e("li",[v._v("请求行\n"),e("ul",[e("li",[v._v("请求方式、请求URL、HTTP协议/版本")])])]),v._v(" "),e("li",[v._v("请求头")]),v._v(" "),e("li",[v._v("空行")]),v._v(" "),e("li",[v._v("请求体")])]),v._v(" "),e("p",[v._v("格式如下：")]),v._v(" "),e("p",[e("img",{attrs:{src:t(562),alt:"alt"}})]),v._v(" "),e("h2",{attrs:{id:"请求方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#请求方式"}},[v._v("#")]),v._v(" 请求方式")]),v._v(" "),e("p",[e("code",[v._v("HEAD")]),v._v("、"),e("code",[v._v("GET")]),v._v("、"),e("code",[v._v("POST")]),v._v("、"),e("code",[v._v("PUT")]),v._v("、"),e("code",[v._v("DELETE")]),v._v("、"),e("code",[v._v("OPTIONS")])]),v._v(" "),e("ul",[e("li",[e("code",[v._v("HEAD")]),v._v(": 只请求资源的Response Header\n"),e("ul",[e("li",[v._v("一般用于下载一个大文件前先获取其大小再决定是否下载，与Get返回的头部一致")])])]),v._v(" "),e("li",[e("code",[v._v("GET")]),v._v(": 请求某一个资源")]),v._v(" "),e("li",[e("code",[v._v("POST")]),v._v(": 向服务器提交数据")]),v._v(" "),e("li",[e("code",[v._v("PUT")]),v._v(": 修改某一个资源")]),v._v(" "),e("li",[e("code",[v._v("DELETE")]),v._v(": 删除某一个资源")]),v._v(" "),e("li",[e("code",[v._v("OPTIONS")]),v._v(": CORS的预检请求")])]),v._v(" "),e("blockquote",[e("p",[v._v("还有两种不常用："),e("code",[v._v("TRACE")]),v._v("、"),e("code",[v._v("CONNECT")])])]),v._v(" "),e("h2",{attrs:{id:"get和post区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get和post区别"}},[v._v("#")]),v._v(" GET和POST区别")]),v._v(" "),e("p",[v._v("在直观上：")]),v._v(" "),e("ul",[e("li",[v._v("GET：接在URL后，用"),e("code",[v._v("?")]),v._v("分割 URL 与 参数 ，用"),e("code",[v._v("&")]),v._v("分割参数")]),v._v(" "),e("li",[v._v("POST：放在请求体中")])]),v._v(" "),e("p",[v._v("在本质上（TCP数据包的“个数”及“发送方式”）：")]),v._v(" "),e("ul",[e("li",[v._v("GET产生 1 个TCP数据包（"),e("code",[v._v("HTTP请求头")]),v._v("、"),e("code",[v._v("请求体")]),v._v("一并发出）")]),v._v(" "),e("li",[v._v("POST产生 2 个TCP数据包（先发"),e("code",[v._v("HTTP请求头")]),v._v("，服务器响应 "),e("code",[v._v("100")]),v._v("，再发送 "),e("code",[v._v("请求体")]),v._v(" ）")])]),v._v(" "),e("h2",{attrs:{id:"http和https的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http和https的区别"}},[v._v("#")]),v._v(" HTTP和HTTPS的区别")]),v._v(" "),e("p",[e("code",[v._v("http")]),v._v("是无状态的超文本传输协议，是明文传输的；"),e("strong",[v._v("它是基于TCP/IP的")]),v._v("。")]),v._v(" "),e("ul",[e("li",[v._v("标准端口：80")]),v._v(" "),e("li",[v._v("不需要ca证书")])]),v._v(" "),e("p",[e("code",[v._v("https")]),v._v("是由SSL + http协议构建的加密传输协议")]),v._v(" "),e("ul",[e("li",[v._v("标准端口：443")]),v._v(" "),e("li",[v._v("需要ca证书")]),v._v(" "),e("li",[v._v("增加cpu、带宽消耗")]),v._v(" "),e("li",[v._v("首次连接比较慢")])]),v._v(" "),e("h2",{attrs:{id:"https的实现原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#https的实现原理"}},[v._v("#")]),v._v(" HTTPS的实现原理")]),v._v(" "),e("p",[v._v("HTTPS 在 "),e("strong",[v._v("证书验证阶段")]),v._v(" 使用的是 "),e("code",[v._v("非对称加密")]),v._v("， 在 "),e("strong",[v._v("数据传输阶段")]),v._v(" 使用的是 "),e("code",[v._v("对称加密")]),v._v("。")]),v._v(" "),e("p",[e("code",[v._v("非对称加密")]),v._v("：利用 公钥 加密（浏览器）、利用私钥 解密（服务器）。")]),v._v(" "),e("blockquote",[e("p",[v._v("公钥会在网络中传输。")])]),v._v(" "),e("ul",[e("li",[v._v("优点：安全")])]),v._v(" "),e("p",[e("code",[v._v("对称加密")]),v._v("：浏览器和服务端使用 同一个密钥（对称密钥） 进行加密和解密。")]),v._v(" "),e("ul",[e("li",[v._v("优点：加密快")])]),v._v(" "),e("h3",{attrs:{id:"为什么数据是对称加密"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么数据是对称加密"}},[v._v("#")]),v._v(" 为什么数据是对称加密？")]),v._v(" "),e("p",[e("strong",[v._v("原因：")]),v._v(" ：")]),v._v(" "),e("ol",[e("li",[v._v("非对称加密的 "),e("strong",[v._v("加解密效率非常低")]),v._v("；")]),v._v(" "),e("li",[v._v("只有服务端保存了私钥")])]),v._v(" "),e("h3",{attrs:{id:"证书验证阶段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#证书验证阶段"}},[v._v("#")]),v._v(" 证书验证阶段")]),v._v(" "),e("ul",[e("li",[v._v("浏览器 发起 HTTPS 请求")]),v._v(" "),e("li",[v._v("服务端 返回 HTTPS 证书 + 公钥")]),v._v(" "),e("li",[v._v("浏览器 验证 HTTPS 证书是否合法（如果不合法提示警告）")])]),v._v(" "),e("h3",{attrs:{id:"数据传输阶段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据传输阶段"}},[v._v("#")]),v._v(" 数据传输阶段")]),v._v(" "),e("ul",[e("li",[v._v("浏览器会生成一个 "),e("code",[v._v("随机数")])]),v._v(" "),e("li",[v._v("通过 公钥 "),e("strong",[v._v("加密这个 "),e("code",[v._v("随机数")])]),v._v(" ，发送给服务端")]),v._v(" "),e("li",[v._v("服务端通过 私钥 解密 "),e("code",[v._v("随机数")])]),v._v(" "),e("li",[v._v("通过这个 "),e("code",[v._v("随机数")]),v._v("（即“对称密钥”），"),e("strong",[v._v("对数据进行 对称加密")])]),v._v(" "),e("li",[v._v("浏览器根据本地存储的 "),e("code",[v._v("随机数")]),v._v("（即“对称密钥”） 进行解密")])]),v._v(" "),e("p",[e("img",{attrs:{src:t(563),alt:"alt"}})]),v._v(" "),e("h2",{attrs:{id:"http2-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http2-0"}},[v._v("#")]),v._v(" HTTP2.0")]),v._v(" "),e("p",[v._v("HTTP2.0是 建立在https基础上 的下一代http传输协议，具有安全、高效的特点。")]),v._v(" "),e("blockquote",[e("p",[v._v("2015年正式发布 ，目前国内外一些大厂基本都有使用http2.0承担部分请求，但是目前仍然未广泛普及")])]),v._v(" "),e("h3",{attrs:{id:"特点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[v._v("#")]),v._v(" 特点")]),v._v(" "),e("ul",[e("li",[v._v("二进制分帧层")]),v._v(" "),e("li",[v._v("多路复用")]),v._v(" "),e("li",[v._v("HTTP头部压缩")]),v._v(" "),e("li",[v._v("服务器推送")])]),v._v(" "),e("h4",{attrs:{id:"二进制分帧层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二进制分帧层"}},[v._v("#")]),v._v(" 二进制分帧层")]),v._v(" "),e("p",[v._v("链接 > 数据流 > 消息 > 帧（最小通信单位）")]),v._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[v._v("TIP")]),v._v(" "),e("p",[v._v("链接(Connection): 一个TCP链接，包含若干个数据流(Stream)。所有通信都在一个TCP链接上完成")]),v._v(" "),e("p",[v._v("数据流(Stream): 一个双向通信的数据流，包含若干条消息(Message)")]),v._v(" "),e("p",[v._v("消息(Message): 对应 HTTP1.1 的请求/响应，包含若干个数据帧(Frame)。")]),v._v(" "),e("ul",[e("li",[v._v("HTTP/1.1 中，一个消息（可理解为请求报文）由请求行、请求头、空行、请求体组成；")]),v._v(" "),e("li",[v._v("HTTP/2 中，一个消息由 Header Frame + 若干个 Data Frame组成")])]),v._v(" "),e("p",[v._v("数据帧(Frame): 最小通信单位，以 "),e("strong",[v._v("二进制压缩格式")]),v._v(" 存放内容。")])]),v._v(" "),e("p",[e("img",{attrs:{src:"https://s2.51cto.com/oss/202007/09/1f6a4011f93f9b2dd1c74942dc8038d9.jpg",alt:"alt"}})]),v._v(" "),e("p",[e("img",{attrs:{src:"https://s5.51cto.com/oss/202007/09/6f23e8fd3af17389afc8940ec7fbf926.jpg",alt:"alt"}})]),v._v(" "),e("p",[e("img",{attrs:{src:"https://img.halfrost.com/Blog/ArticleImage/130_1.svg",alt:"alt"}})]),v._v(" "),e("h4",{attrs:{id:"多路复用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#多路复用"}},[v._v("#")]),v._v(" 多路复用")]),v._v(" "),e("p",[v._v("用 同一个TCP链接 传输多个资源。")]),v._v(" "),e("ul",[e("li",[v._v("对于 HTTP/1.1，为了提升性能，可能需要专门“减少请求数”")]),v._v(" "),e("li",[v._v("对于 HTTP/2 已不再需要。")])]),v._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[v._v("TIP")]),v._v(" "),e("p",[v._v("因为对于 HTTP/1.1，虽然能复用TCP链接。但每条TCP链接的最大并发数有限制。")]),v._v(" "),e("p",[v._v("所以请求数越多，TCP连接就越多，服务器、浏览器就需要更多线程来处理，出现资源排队加载。")]),v._v(" "),e("blockquote",[e("p",[v._v("如: 雪碧图合成一张大图；合并JS和CSS等措施")])])]),v._v(" "),e("h5",{attrs:{id:"http头部压缩"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http头部压缩"}},[v._v("#")]),v._v(" HTTP头部压缩")]),v._v(" "),e("ul",[e("li",[v._v("对于 HTTP/1.1，头部带有大量信息，每次都要重复发送。")]),v._v(" "),e("li",[v._v("对于 HTTP/2，使用 encoder 来 减少需要传输的header大小。("),e("strong",[v._v("需要双方各自缓存一份头部字段")]),v._v(")")])]),v._v(" "),e("h5",{attrs:{id:"服务器推送"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务器推送"}},[v._v("#")]),v._v(" 服务器推送")]),v._v(" "),e("p",[v._v("服务器提前推送“必需资源”给客户端，以提高页面整体的加载速度。")]),v._v(" "),e("ul",[e("li",[v._v("对于 HTTP1.1，浏览器需要等到HTML下载并解析到需要加载的资源时，才发起资源请求。")]),v._v(" "),e("li",[v._v("对于 HTTP2，服务端可以先推送 客户端可能会请求到的资源（不用等到解析HTML时再发送），")])]),v._v(" "),e("h3",{attrs:{id:"如何升级"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何升级"}},[v._v("#")]),v._v(" 如何升级")]),v._v(" "),e("blockquote",[e("p",[v._v("要求：只支持https；"),e("code",[v._v("nginx")]),v._v(" 的最低版本是1.10.0；"),e("code",[v._v("openssl")]),v._v(" 的最低版本是1.0.2")])]),v._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# before")]),v._v("\nlisten "),e("span",{pre:!0,attrs:{class:"token number"}},[v._v("443")]),v._v(" ssl"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# after")]),v._v("\nlisten "),e("span",{pre:!0,attrs:{class:"token number"}},[v._v("443")]),v._v(" ssl http2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n")])]),v._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[v._v("1")]),e("br"),e("span",{staticClass:"line-number"},[v._v("2")]),e("br"),e("span",{staticClass:"line-number"},[v._v("3")]),e("br"),e("span",{staticClass:"line-number"},[v._v("4")]),e("br"),e("span",{staticClass:"line-number"},[v._v("5")]),e("br")])]),e("h2",{attrs:{id:"http-1-0、http-1-1、http-2和tcp连接的关系"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-1-0、http-1-1、http-2和tcp连接的关系"}},[v._v("#")]),v._v(" HTTP/1.0、HTTP/1.1、HTTP/2和TCP连接的关系")]),v._v(" "),e("p",[v._v("HTTP/1.0 默认 "),e("strong",[v._v("非持久连接")]),v._v("。每次请求都需建立一次TCP连接")]),v._v(" "),e("blockquote",[e("p",[v._v("要实现持久连接，需要在HTTP请求头指定"),e("code",[v._v("connection: Keep-Alive")])])]),v._v(" "),e("p",[v._v("HTTP/1.1 默认 "),e("strong",[v._v("持久连接")]),v._v("。在同一个TCP连接下，客户端可以发起多次HTTP请求，并且"),e("strong",[v._v("受同一域名下请求个数的限制")]),v._v("（Chrome是6个，多的会出现加载排队现象）")]),v._v(" "),e("p",[v._v("HTTP/2.0 可"),e("strong",[v._v("多路复用")]),v._v("。在同一个TCP连接下，客户端可以发起并行请求，无个数限制")]),v._v(" "),e("blockquote",[e("p",[v._v("所有请求都是基于流，有更高的并发量")])]),v._v(" "),e("h2",{attrs:{id:"参考链接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[v._v("#")]),v._v(" 参考链接")]),v._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://network.51cto.com/art/202007/620592.htm",target:"_blank",rel:"noopener noreferrer"}},[v._v("理解TCP/IP协议栈之HTTP2.0"),e("OutboundLink")],1)]),v._v(" "),e("li",[e("a",{attrs:{href:"https://juejin.cn/post/6844903984524705800",target:"_blank",rel:"noopener noreferrer"}},[v._v("深入理解http2.0协议，看这篇就够了！"),e("OutboundLink")],1)]),v._v(" "),e("li",[e("a",{attrs:{href:"https://halfrost.com/http2-http-frames-definitions/",target:"_blank",rel:"noopener noreferrer"}},[v._v("HTTP/2 中的帧定义"),e("OutboundLink")],1)]),v._v(" "),e("li",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/29609078",target:"_blank",rel:"noopener noreferrer"}},[v._v("怎样把网站升级到http/2"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);_.default=a.exports}}]);