(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{481:function(s,t,a){s.exports=a.p+"assets/img/Node-Mysql-1.93d5de75.png"},482:function(s,t,a){s.exports=a.p+"assets/img/Node-Mysql-2.3163acaf.png"},483:function(s,t,a){s.exports=a.p+"assets/img/Node-Mysql-3.ee94c88e.png"},484:function(s,t,a){s.exports=a.p+"assets/img/Node-Mysql-4.771e144b.png"},485:function(s,t,a){s.exports=a.p+"assets/img/Node-Mysql-5.6994177b.png"},486:function(s,t,a){s.exports=a.p+"assets/img/Node-Mysql-6.4c883e7e.png"},703:function(s,t,a){"use strict";a.r(t);var e=a(56),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"node-mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#node-mysql"}},[s._v("#")]),s._v(" Node-MySQL")]),s._v(" "),e("blockquote",[e("p",[s._v("很早之前就知道nodeJS也可以写后台，而且也有很成熟的http框架。也想自己搭建一个服务器来访问自己的本地数据库，平时可以联调下post请求之类的")]),s._v(" "),e("p",[s._v("更新时间： 2019-01-06")])]),s._v(" "),e("p",[s._v("我是导航条：\n"),e("a",{attrs:{href:"#%E5%87%86%E5%A4%87%E5%B7%A5%E5%85%B7"}},[s._v("准备工具")]),s._v(" -> "),e("a",{attrs:{href:"#%E5%AE%89%E8%A3%85MySQL"}},[s._v("安装MySQL")]),s._v(" -> "),e("a",{attrs:{href:"#%E5%AE%89%E8%A3%85WorkBench"}},[s._v("安装WorkBench")]),s._v(" -> "),e("a",{attrs:{href:"#%E5%9C%A8Node.js%E4%B8%AD%E7%9A%84%E5%86%99%E6%B3%95"}},[s._v("在Node.js中的写法")]),s._v(" -> "),e("a",{attrs:{href:"#Postman%E7%9A%84%E4%BD%BF%E7%94%A8"}},[s._v("Postman的使用")])]),s._v(" "),e("h2",{attrs:{id:"准备工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备工具"}},[s._v("#")]),s._v(" 准备工具")]),s._v(" "),e("ul",[e("li",[s._v("Node.js\n（http://nodejs.cn/download/）")]),s._v(" "),e("li",[s._v("Mysql\n（https://dev.mysql.com/downloads/mysql/）")]),s._v(" "),e("li",[s._v("WorkBench\n（https://dev.mysql.com/downloads/workbench/）")]),s._v(" "),e("li",[s._v("Postman\n（https://www.getpostman.com/apps）")])]),s._v(" "),e("h2",{attrs:{id:"安装mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装mysql"}},[s._v("#")]),s._v(" 安装MySQL")]),s._v(" "),e("p",[s._v("1、打开dmg，一直下一步。注册本地数据库的账号、密码；")]),s._v(" "),e("p",[s._v("2、开启Mysql，在“系统偏好设置” - “mysql” - “start Mysql server”；")]),s._v(" "),e("p",[s._v("3、将Mysql加入系统环境变量，否则会提示“mysql commod not found”")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 进入mysql的bin文件夹")]),s._v("\ncd "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 编辑环境变量文件")]),s._v("\nvim "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bash_profile\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 加入以下语句")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使其生效")]),s._v("\nsource "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bash_profile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("p",[s._v("4、修改密码：")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SET")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PASSWORD")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOR")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PASSWORD")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'newpass'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"安装workbench"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装workbench"}},[s._v("#")]),s._v(" 安装WorkBench")]),s._v(" "),e("p",[s._v("打开dmg，一直下一步。一般会自动扫描你本地的mysql版本，如果没有，就点击“+”，并填入刚刚注册的数据库账号密码\n"),e("img",{attrs:{src:a(481),alt:"alt"}}),s._v(" "),e("img",{attrs:{src:a(482),alt:"alt"}})]),s._v(" "),e("h2",{attrs:{id:"在node-js中的写法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在node-js中的写法"}},[s._v("#")]),s._v(" 在Node.js中的写法")]),s._v(" "),e("h3",{attrs:{id:"准备的npm包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备的npm包"}},[s._v("#")]),s._v(" 准备的npm包")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[s._v("  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dependencies"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"body-parser"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.18.3"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cookie-parser"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.4.3"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"express"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^4.16.4"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"multer"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.4.1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"mysql"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.16.0"')]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h3",{attrs:{id:"大致思路"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#大致思路"}},[s._v("#")]),s._v(" 大致思路")]),s._v(" "),e("p",[s._v("1、引入express、body-parser中间件、数据库连接模块")]),s._v(" "),e("p",[s._v("2、实例化express对象，并对其进行body-parser注册")]),s._v(" "),e("p",[s._v("3、对实例进行操作")]),s._v(" "),e("p",[s._v("4、最后执行实例的listen方法，并制定监听的端口")]),s._v(" "),e("p",[s._v("（项目代码：https://github.com/qq450979309/node-mysql ）")]),s._v(" "),e("h3",{attrs:{id:"注意的点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意的点"}},[s._v("#")]),s._v(" 注意的点")]),s._v(" "),e("ul",[e("li",[s._v("如果没有注册body-parser，那将"),e("code",[s._v("req.body")]),s._v("将是 "),e("strong",[s._v("undefined")]),s._v(" 的")])]),s._v(" "),e("h2",{attrs:{id:"postman的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#postman的使用"}},[s._v("#")]),s._v(" Postman的使用")]),s._v(" "),e("h3",{attrs:{id:"以post为例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#以post为例"}},[s._v("#")]),s._v(" 以Post为例")]),s._v(" "),e("p",[s._v("1、设置请求的Headers，"),e("code",[s._v("Content-Type")]),s._v("设置为"),e("code",[s._v("application/x-www-form-urlencoded")]),s._v(" "),e("img",{attrs:{src:a(483),alt:"alt"}})]),s._v(" "),e("p",[s._v("2、设置请求的Body的key/value，并将body的类型设置为"),e("code",[s._v("x-www-form-urlencoded")]),s._v(" "),e("img",{attrs:{src:a(484),alt:"alt"}})]),s._v(" "),e("p",[s._v("3、可以从本地node服务器接受到来自postman的请求，并且通过"),e("code",[s._v("req.body")]),s._v("可以拿到参数\n"),e("img",{attrs:{src:a(485),alt:"alt"}})]),s._v(" "),e("p",[s._v("注意：")]),s._v(" "),e("p",[s._v("问题一：设置Content-Type无效")]),s._v(" "),e("p",[s._v("例如：改成application/json，但是一直是application/x-www-form-urlencoded")]),s._v(" "),e("p",[s._v("解决办法：那只能切换到"),e("code",[s._v("raw")]),s._v("里写下json数据（"),e("strong",[s._v("key值记得用双引号")]),s._v("）\n"),e("img",{attrs:{src:a(486),alt:"alt"}})]),s._v(" "),e("p",[s._v("在这过程也参考了网友的一些文章，才得以顺利搭建，总结的链接如下：")]),s._v(" "),e("p",[s._v("1、《NodeJs针对Express框架配置Mysql进行数据库操作》")]),s._v(" "),e("p",[s._v("（https://www.cnblogs.com/eczhou/p/7845529.html）")]),s._v(" "),e("p",[s._v("2、《express做登录验证获取req.body为空对象问题》")]),s._v(" "),e("p",[s._v("（https://blog.csdn.net/TyrionJ/article/details/81990048）")]),s._v(" "),e("p",[s._v("3、《nodejs 写接口的步骤》")]),s._v(" "),e("p",[s._v("（https://blog.csdn.net/weixin_42193625/article/details/80447390）")]),s._v(" "),e("h2",{attrs:{id:"我的git仓库-node-mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#我的git仓库-node-mysql"}},[s._v("#")]),s._v(" 我的git仓库（node-mysql）")]),s._v(" "),e("p",[s._v("利用node.js搭建本地服务器，并连接数据库\n"),e("a",{attrs:{href:"https://github.com/Heshiyu1996/node-mysql",target:"_blank",rel:"noopener noreferrer"}},[s._v("node-mysql"),e("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);