(window.webpackJsonp=window.webpackJsonp||[]).push([[143],{657:function(s,t,a){"use strict";a.r(t);var n=a(43),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"commonjs、es6模块规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commonjs、es6模块规范"}},[s._v("#")]),s._v(" CommonJS、ES6模块规范")]),s._v(" "),a("blockquote",[a("p",[s._v("JS模块规范")])]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#commonjs、es6模块规范"}},[s._v("CommonJS、ES6模块规范")]),a("ul",[a("li",[a("a",{attrs:{href:"#commonjs"}},[s._v("CommonJS")])]),a("li",[a("a",{attrs:{href:"#es6-module"}},[s._v("ES6 Module")])]),a("li",[a("a",{attrs:{href:"#commonjs和es6-module的区别"}},[s._v("CommonJS和ES6 Module的区别")])])])])])]),a("p"),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("四种模块规范：")]),s._v(" "),a("ul",[a("li",[s._v("CommonJS")]),s._v(" "),a("li",[s._v("ES6 模块")])])]),s._v(" "),a("p",[a("code",[s._v("AMD")]),s._v("、"),a("code",[s._v("CMD")]),s._v("不在此赘述，"),a("RouterLink",{attrs:{to:"/skill/js/modular/AMDCMD.html"}},[s._v("可前往查看以往笔记")])],1),s._v(" "),a("h2",{attrs:{id:"commonjs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commonjs"}},[s._v("#")]),s._v(" CommonJS")]),s._v(" "),a("p",[a("strong",[s._v("CommonJS")]),s._v("最初只为服务端而设计，直到有了Browserify，这意味着客户端的代码也可以遵守"),a("strong",[s._v("CommonJS")]),s._v("标准来写了。")]),s._v(" "),a("blockquote",[a("p",[s._v("Browserify是一个运行在Node.js环境下的模块打包工具。它可以将CommonJS模块，打包为浏览器可以运行的单个文件。")])]),s._v(" "),a("h3",{attrs:{id:"封装成commonjs模块的区别-对比-通过script标签引入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#封装成commonjs模块的区别-对比-通过script标签引入"}},[s._v("#")]),s._v(" 封装成CommonJS模块的区别（对比“通过script标签引入”）")]),s._v(" "),a("p",[a("strong",[s._v("CommonJS中规定每个文件就是一个模块。")])]),s._v(" "),a("p",[a("strong",[s._v("通过script标签引入的脚本")]),s._v("的顶层作用域是全局作用域，在进行变量及函数声明时会污染全局环境；")]),s._v(" "),a("p",[a("strong",[s._v("CommonJS模块")]),s._v("会形成一个属于模块自身的作用域，所有的变量及函数只由自己能访问。")]),s._v(" "),a("blockquote",[a("p",[s._v("对于"),a("strong",[s._v("CommonJS")]),s._v("，"),a("code",[s._v("模块向外暴露自身")]),s._v("的唯一方式——导出（"),a("code",[s._v("module.exports")]),s._v("）。")])]),s._v(" "),a("h3",{attrs:{id:"导出-module-exports"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导出-module-exports"}},[s._v("#")]),s._v(" 导出（module.exports）")]),s._v(" "),a("p",[a("code",[s._v("module对象")]),s._v("用于存放当前模块的信息")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 为了更好理解\nvar module = {\n    exports: {}\n}\nvar exports = module.exports // 对象浅拷贝\n*/")]),s._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 用来指定该模块要对外暴露哪些内容")]),s._v("\n\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'heshiyu'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 也可直接使用exports")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 注意：（不遵循的话，可能会导出失效）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1、不要直接给exports赋值；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2、不要module.exports和exports混合用")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("建议将该语句放在模块的末尾")])]),s._v(" "),a("h3",{attrs:{id:"导入-require"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入-require"}},[s._v("#")]),s._v(" 导入（require）")]),s._v(" "),a("p",[s._v("在"),a("strong",[s._v("CommonJS")]),s._v("中使用"),a("code",[s._v("require")]),s._v("进行模块导入")]),s._v(" "),a("blockquote",[a("p",[s._v("将要导入的模块的"),a("strong",[s._v("module.exports对象")]),s._v("作为"),a("strong",[s._v("require函数的返回值")]),s._v("进行返回")])]),s._v(" "),a("p",[s._v("当我们"),a("strong",[s._v("require")]),s._v("一个模块时，会有两种情况：")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("是第一次被加载")]),s._v("。\n"),a("ul",[a("li",[s._v("此时会首先执行该模块，然后导出内容")])])]),s._v(" "),a("li",[a("strong",[s._v("曾被加载过")]),s._v("。\n"),a("ul",[a("li",[s._v("此时该模块的代码不会再次执行，直接导出上次执行后得到的结果")])])])]),s._v(" "),a("p",[s._v("这是因为"),a("code",[s._v("module")]),s._v("对象里有一个"),a("code",[s._v("loaded")]),s._v("属性（"),a("em",[s._v("默认为false")]),s._v("），用于"),a("strong",[s._v("记录该模块是否被加载过")]),s._v("。")]),s._v(" "),a("p",[s._v("可以直接使用require")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./task.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("也可以接受表达式")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" filename "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'math.js'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"es6-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es6-module"}},[s._v("#")]),s._v(" ES6 Module")]),s._v(" "),a("p",[s._v("ES6 Module也是将每个文件作为一个模块，每个模块拥有自身的作用域。（同时会采取严格模式）")]),s._v(" "),a("h3",{attrs:{id:"导出-export"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导出-export"}},[s._v("#")]),s._v(" 导出（export）")]),s._v(" "),a("p",[s._v("export有两种形式：")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("命名导出")])])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 写法一：")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'heshiyu'")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 写法二：")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'heshiyu'")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" add "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("默认导出")])])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'heshiyu'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("add")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("strong",[s._v("export default")]),s._v("可以理解为：对外输出了一个名为default的变量。")]),s._v(" "),a("h3",{attrs:{id:"导入-import"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入-import"}},[s._v("#")]),s._v(" 导入（import）")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("命名导入")]),s._v(" "),a("ul",[a("li",[s._v("导入的效果相当于在当前作用域下声明了这些变量，并且不可以对其进行更改，也就是所有导入的变量都是"),a("strong",[s._v("只读")]),s._v("的。")]),s._v(" "),a("li",[s._v("在导入多个变量时，还可以采用整体导入的方式：")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// calculator.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'heshiyu'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// index.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" calculator "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./calculator.js'")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("calculator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 5")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])]),s._v(" "),a("li",[a("strong",[s._v("默认导入")]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// calculator.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'heshiyu'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("add")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// index.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" myCalculator "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./calculator.js'")]),s._v("\ncalculator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])]),s._v(" "),a("p",[s._v("两种可以混合起来导入：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" Component "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'react'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("其中，"),a("strong",[s._v("React")]),s._v("对应模块（"),a("em",[s._v("react")]),s._v("）的默认导出，"),a("strong",[s._v("Component")]),s._v("对应模块（"),a("em",[s._v("react")]),s._v("）的命名导出中的一个变量。")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),a("p",[s._v("这里的"),a("strong",[s._v("React")]),s._v("（即默认导入）必须写在前面，不能颠倒顺序，否则会语法错误！")])]),s._v(" "),a("h3",{attrs:{id:"复合导入-即导入又导出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#复合导入-即导入又导出"}},[s._v("#")]),s._v(" 复合导入（即导入又导出）")]),s._v(" "),a("p",[s._v("有时会有"),a("strong",[s._v("专门用来集合所有页面或组件的入口文件")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 以下两种写法只对那些通过“命名导出”方式导出的变量有效")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" add "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./calculator.js'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./calculator.js'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 对于“默认导出”方式导出的变量可以这样写：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" myCalculator "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./calculator.js'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" myCalculator\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"commonjs和es6-module的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commonjs和es6-module的区别"}},[s._v("#")]),s._v(" CommonJS和ES6 Module的区别")]),s._v(" "),a("h3",{attrs:{id:"动态vs静态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动态vs静态"}},[s._v("#")]),s._v(" 动态vs静态")]),s._v(" "),a("p",[a("code",[s._v("CommonJS")]),s._v("：")]),s._v(" "),a("ul",[a("li",[s._v("是动态的（require的模块路径可以动态指定）")]),s._v(" "),a("li",[s._v("模块依赖关系的建立发生在代码"),a("strong",[s._v("运行阶段")]),s._v("（模块被执行前，并没有办法明确确定依赖关系）")])]),s._v(" "),a("p",[a("code",[s._v("ES6 Module")]),s._v("：")]),s._v(" "),a("ul",[a("li",[s._v("是静态的")]),s._v(" "),a("li",[s._v("模块依赖关系的建立发生在代码"),a("strong",[s._v("编译阶段")]),s._v("（运行前）；")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("优势：")]),s._v(" "),a("ul",[a("li",[s._v("有利于Webpack的"),a("code",[s._v("Tree Shaking")])]),s._v(" "),a("li",[s._v("未使用的代码检测、排除\n"),a("ul",[a("li",[s._v("通过静态分析，在打包时去掉这些未曾使用过的模块，以减小打包资源体积")])])]),s._v(" "),a("li",[s._v("模块变量类型检查")]),s._v(" "),a("li",[s._v("直接导入变量，而不是一个对象\n"),a("ul",[a("li",[s._v("减少引用层级，程序效率更高")])])])])]),s._v(" "),a("h3",{attrs:{id:"值的拷贝vs动态映射"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#值的拷贝vs动态映射"}},[s._v("#")]),s._v(" 值的拷贝vs动态映射")]),s._v(" "),a("p",[a("code",[s._v("CommonJS")]),s._v("：导出的是值的拷贝"),a("code",[s._v("（可写，但影响的只是副本）")])]),s._v(" "),a("p",[a("code",[s._v("ES6 Module")]),s._v("：导出的是值的动态映射"),a("code",[s._v("（只读）")])]),s._v(" "),a("blockquote",[a("p",[s._v("为什么"),a("strong",[s._v("CommonJS是值的拷贝")]),s._v("？"),a("RouterLink",{attrs:{to:"/skill/js/note/webpack-experience/#webpack模块打包原理"}},[s._v("可前往查看《webpack模块打包原理》")])],1)]),s._v(" "),a("h3",{attrs:{id:"this指向"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#this指向"}},[s._v("#")]),s._v(" this指向")]),s._v(" "),a("p",[a("code",[s._v("CommonJS")]),s._v("：顶层this"),a("code",[s._v("指向当前模块")])]),s._v(" "),a("p",[a("code",[s._v("ES6 Module")]),s._v("：顶层this"),a("code",[s._v("指向undefined")])])])}),[],!1,null,null,null);t.default=e.exports}}]);