(window.webpackJsonp=window.webpackJsonp||[]).push([[163],{719:function(t,s,a){"use strict";a.r(s);var e=a(56),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"react16基础知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react16基础知识"}},[t._v("#")]),t._v(" React16基础知识")]),t._v(" "),a("blockquote",[a("p",[t._v("react 16")])]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#react16基础知识"}},[t._v("React16基础知识")]),a("ul",[a("li",[a("a",{attrs:{href:"#新特性"}},[t._v("新特性")])]),a("li",[a("a",{attrs:{href:"#usecallback、usememo的区别"}},[t._v("useCallback、useMemo的区别")])]),a("li",[a("a",{attrs:{href:"#通过hooks获取上一个指定的prop值"}},[t._v("通过Hooks获取上一个指定的prop值")])]),a("li",[a("a",{attrs:{href:"#函数式组件-与-class组件"}},[t._v("函数式组件 与 Class组件")])]),a("li",[a("a",{attrs:{href:"#react-hooks的优缺点"}},[t._v("React Hooks的优缺点")])]),a("li",[a("a",{attrs:{href:"#函数式编程"}},[t._v("函数式编程")])]),a("li",[a("a",{attrs:{href:"#参考链接"}},[t._v("参考链接")])])])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"新特性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新特性"}},[t._v("#")]),t._v(" 新特性")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/skill/react/life-cycle/"}},[t._v("生命周期")]),t._v(" "),a("ul",[a("li",[t._v("设为"),a("code",[t._v("UN_SAFE")]),t._v("："),a("code",[t._v("componentWillMount")]),t._v("、"),a("code",[t._v("componentWillUpdate")]),t._v("、"),a("code",[t._v("componentWillReceiveProps")])]),t._v(" "),a("li",[t._v("推荐使用："),a("code",[t._v("getDerivedStateFromProps")]),t._v("、"),a("code",[t._v("getSnapshotBeforeUpdate")])])])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/skill/react/hooks/"}},[t._v("Hooks")]),t._v(" "),a("ul",[a("li",[t._v("主要是解决"),a("code",[t._v("状态逻辑复用问题")]),t._v("，将组件的 UI 与 状态 分离。")])])],1),t._v(" "),a("li",[a("strong",[t._v("Context API")]),t._v(" "),a("ul",[a("li",[t._v("新的Context API采用 声明式写法，并且可以透过 "),a("strong",[a("code",[t._v("shouldComponentUpdate")]),t._v(" 返回 false 的组件")]),t._v("继续向下传播")])])]),t._v(" "),a("li",[a("strong",[t._v("代码分割")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("React.lazy")]),t._v(" 提供了"),a("code",[t._v("动态 import 组件")]),t._v("的能力，实现代码分割")]),t._v(" "),a("li",[a("code",[t._v("Suspense")]),t._v(" 作用：在等待组件时 suspend（暂停）渲染，并显示加载标识")])])]),t._v(" "),a("li",[a("strong",[t._v("错误处理机制")]),t._v(" "),a("ul",[a("li",[t._v("新增生命周期"),a("code",[t._v("componentDidCatch")])])])])]),t._v(" "),a("h2",{attrs:{id:"usecallback、usememo的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usecallback、usememo的区别"}},[t._v("#")]),t._v(" useCallback、useMemo的区别")]),t._v(" "),a("p",[a("code",[t._v("useCallback")]),t._v("一般会用来缓存函数的引用；"),a("code",[t._v("useMemo")]),t._v("缓存计算数据的值。")]),t._v(" "),a("blockquote",[a("p",[t._v("它们都是根据 "),a("code",[t._v("依赖项")]),t._v(" 去进行缓存。前者是缓存callback，后者是缓存callback执行后返回的值。")])]),t._v(" "),a("h3",{attrs:{id:"usecallback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usecallback"}},[t._v("#")]),t._v(" useCallback")]),t._v(" "),a("p",[t._v("用法：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" handleCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("count")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 依赖项为空代表这个函数在组件的生命周期内都会 **永久缓存**")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"usememo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usememo"}},[t._v("#")]),t._v(" useMemo")]),t._v(" "),a("p",[t._v("用法：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" calcValue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useMemo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fill")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当count改变时，重新计算calcValue的值")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("blockquote",[a("p",[a("code",[t._v("useMemo")]),t._v("一般会 用来去缓存需要进行大量计算量的函数。")])]),t._v(" "),a("h2",{attrs:{id:"通过hooks获取上一个指定的prop值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过hooks获取上一个指定的prop值"}},[t._v("#")]),t._v(" 通过Hooks获取上一个指定的prop值")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// usePrevious.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useEffect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("usePrevious")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ref "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useRef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("使用时：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" prevCalcValue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usePrevious")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("calcValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"函数式组件-与-class组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数式组件-与-class组件"}},[t._v("#")]),t._v(" 函数式组件 与 Class组件")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}}),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("函数式组件")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Class组件")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("定义")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("被定义为一个"),a("strong",[t._v("纯函数")]),t._v("。"),a("br"),t._v("它接收一个props对象，并返回"),a("code",[t._v("React Element")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("被定义为一个"),a("strong",[t._v("Class")]),t._v("。"),a("br"),t._v("它继承于"),a("code",[t._v("React.Component")]),t._v("，并 "),a("strong",[t._v("通过render函数")]),t._v(" 返回"),a("code",[t._v("React Element")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("状态")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("没有自身的state。"),a("br"),t._v("（"),a("strong",[t._v("在v16.8添加了hooks，可以使用useState钩子去管理state")]),t._v("）")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("拥有自身的state")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("生命周期")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("没有生命周期。"),a("br"),t._v("（"),a("strong",[t._v("在v16.8后可通过"),a("code",[t._v("useEffect")]),t._v("去模拟部分生命周期")]),t._v("）")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("有")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("render行为"),a("br")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("每次组件触发更新："),a("br"),a("strong",[t._v("拥有完全独立的函数作用域")]),t._v("，"),a("br"),t._v("返回相应的"),a("code",[t._v("React Element")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("每次组件触发更新："),a("br"),t._v(" "),a("strong",[t._v("调用"),a("code",[t._v("render()")])]),t._v("，"),a("br"),t._v("返回"),a("code",[t._v("React Element")]),t._v(" "),a("br"),t._v("（对于同一处调用的class组件，"),a("strong",[t._v("只有一个class实例")]),t._v("被创建/使用，后续的render"),a("strong",[t._v("只会改变this.props、this.state的值")]),t._v("）")])])])]),t._v(" "),a("h2",{attrs:{id:"react-hooks的优缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react-hooks的优缺点"}},[t._v("#")]),t._v(" React Hooks的优缺点")]),t._v(" "),a("p",[a("strong",[t._v("优点：")])]),t._v(" "),a("ul",[a("li",[t._v("状态逻辑复用\n"),a("ul",[a("li",[t._v("通过组合"),a("code",[t._v("useState")]),t._v("、"),a("code",[t._v("useEffect")]),t._v("等去实现状态逻辑复用、避免分散在各个生命周期中")])])]),t._v(" "),a("li",[t._v("更贴合 函数式编程 思想")])]),t._v(" "),a("p",[a("strong",[t._v("缺点：")])]),t._v(" "),a("ul",[a("li",[t._v("调用顺序：\n"),a("ul",[a("li",[t._v("要在组件的最顶层使用，"),a("strong",[t._v("不能在class组件、循环、条件、回调内使用Hooks")])])])]),t._v(" "),a("li",[t._v("依赖声明的关键性\n"),a("ul",[a("li",[t._v("部分Hooks"),a("strong",[t._v("需要根据依赖来判断是否需要重新渲染")])])])])]),t._v(" "),a("h2",{attrs:{id:"函数式编程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数式编程"}},[t._v("#")]),t._v(" 函数式编程")]),t._v(" "),a("p",[a("code",[t._v("函数式编程")]),t._v("的特点：")]),t._v(" "),a("ul",[a("li",[t._v("函数是第一等公民")]),t._v(" "),a("li",[t._v("没有副作用（不会影响外部变量）")]),t._v(" "),a("li",[t._v("引用透明（输入相同，输出也相同）")])]),t._v(" "),a("h2",{attrs:{id:"参考链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[t._v("#")]),t._v(" 参考链接")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.im/post/5dd64ae6f265da478b00e639",target:"_blank",rel:"noopener noreferrer"}},[t._v("useCallback、useMemo 分析 & 差别"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);