(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{427:function(t,a,s){t.exports=s.p+"assets/img/notes-1.42b27851.png"},428:function(t,a,s){t.exports=s.p+"assets/img/notes-2.99a8a583.png"},429:function(t,a,s){t.exports=s.p+"assets/img/notes-3.90f1a774.png"},430:function(t,a,s){t.exports=s.p+"assets/img/notes-4.58b20b79.png"},639:function(t,a,s){"use strict";s.r(a);var e=s(56),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"项目搭建记录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#项目搭建记录"}},[t._v("#")]),t._v(" 项目搭建记录")]),t._v(" "),e("blockquote",[e("p",[t._v("以下是用React进行项目搭建时遇到的错误，现稍作记录。")])]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#项目搭建记录"}},[t._v("项目搭建记录")]),e("ul",[e("li",[e("a",{attrs:{href:"#react-🔥-loader-react-hot-dom-patch-is-not-detected-react-16-6-features-may-not-work"}},[t._v("React-🔥-Loader: react-hot-dom patch is not detected. React 16.6+ features may not work.")])]),e("li",[e("a",{attrs:{href:"#warning-function-components-cannot-be-given-refs-attempts-to-access-this-ref-will-fail-did-you-mean-to-use-react-forwardref"}},[t._v("Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?")])]),e("li",[e("a",{attrs:{href:"#react里对于const存不存在暂时性死区"}},[t._v("React里对于const存不存在暂时性死区？")])]),e("li",[e("a",{attrs:{href:"#warning-componentwillreceiveprops-has-been-renamed-and-is-not-recommended-for-use-see-https-fb-me-react-async-component-lifecycle-hooks-for-details"}},[t._v("Warning: componentWillReceiveProps has been renamed, and is not recommended for use. See https://fb.me/react-async-component-lifecycle-hooks for details.")])]),e("li",[e("a",{attrs:{href:"#react-hot-loader配置导致打包后的路由不跳转"}},[t._v("React-hot-loader配置导致打包后的路由不跳转")])]),e("li",[e("a",{attrs:{href:"#favicon-ico找不到"}},[t._v("favicon.ico找不到？")])]),e("li",[e("a",{attrs:{href:"#warning-package-json-no-license-field"}},[t._v("warning ../../package.json: No license field")])]),e("li",[e("a",{attrs:{href:"#npm-warn-lifecycle-the-node-binary-used-for-scripts-is-var-folders-db-bc53rp1d2ks-2yxcgvb4kb2h0000gn-t-yarn-1569291634982-0-6225204723113884-node-but-npm-is-using-usr-local-bin-node-itself-use-the-scripts-prepend-node-path-option-to-include-the-path-for-the-node-binary-npm-was-executed-with"}},[t._v("npm WARN lifecycle The node binary used for scripts is /var/folders/db/bc53rp1d2ks_2yxcgvb4kb2h0000gn/T/yarn--1569291634982-0.6225204723113884/node but npm is using /usr/local/bin/node itself. Use the --scripts-prepend-node-path option to include the path for the node binary npm was executed with.")])]),e("li",[e("a",{attrs:{href:"#typeerror-func-apply-is-not-a-function"}},[t._v("TypeError: func.apply is not a function")])]),e("li",[e("a",{attrs:{href:"#打开控制台出现很多warning-warning-devtools-failed-to-parse-sourcemap"}},[t._v("打开控制台出现很多warning：warning：DevTools failed to parse SourceMap")])]),e("li",[e("a",{attrs:{href:"#ts提示找不到模块"}},[t._v("ts提示找不到模块")])])])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"react-🔥-loader-react-hot-dom-patch-is-not-detected-react-16-6-features-may-not-work"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-🔥-loader-react-hot-dom-patch-is-not-detected-react-16-6-features-may-not-work"}},[t._v("#")]),t._v(" React-🔥-Loader: react-hot-dom patch is not detected. React 16.6+ features may not work.")]),t._v(" "),e("p",[t._v("虽然出现此提示时热加载依然能用，但可能在某些场景热加载会失效（"),e("code",[t._v("@hot-laoder/react-dom")]),t._v("会作为补充）")]),t._v(" "),e("h3",{attrs:{id:"产生问题的原因"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#产生问题的原因"}},[t._v("#")]),t._v(" 产生问题的原因：")]),t._v(" "),e("ul",[e("li",[t._v("没有安装"),e("code",[t._v("@hot-loader/react-dom")])]),t._v(" "),e("li",[t._v("没有在"),e("code",[t._v("webpack.config.js")]),t._v("中对"),e("code",[t._v("react-dom")]),t._v("设置"),e("code",[t._v("alias")])])]),t._v(" "),e("h3",{attrs:{id:"需要安装的包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#需要安装的包"}},[t._v("#")]),t._v(" 需要安装的包")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('"react-hot-loader": "^4.12.11",\n"@hot-loader/react-dom": "^16.8.6",\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("h3",{attrs:{id:"需配置的文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#需配置的文件"}},[t._v("#")]),t._v(" 需配置的文件")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// App.jsx")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" hot "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-hot-loader/root'")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hot")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("App"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .babelrc")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugins"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-hot-loader/babel"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  resolve"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    alias"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-dom'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@hot-loader/react-dom'")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br")])]),e("p",[t._v("参考链接："),e("a",{attrs:{href:"https://github.com/gaearon/react-hot-loader/issues/1227",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/gaearon/react-hot-loader/issues/1227"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"warning-function-components-cannot-be-given-refs-attempts-to-access-this-ref-will-fail-did-you-mean-to-use-react-forwardref"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#warning-function-components-cannot-be-given-refs-attempts-to-access-this-ref-will-fail-did-you-mean-to-use-react-forwardref"}},[t._v("#")]),t._v(" Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?")]),t._v(" "),e("h3",{attrs:{id:"产生问题的原因-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#产生问题的原因-2"}},[t._v("#")]),t._v(" 产生问题的原因：")]),t._v(" "),e("ul",[e("li",[t._v("需要子组件支持ref属性时（"),e("code",[t._v("例：antd Form组件getFieldDecorator方法")]),t._v("）")]),t._v(" "),e("li",[t._v("函数式组件不是一个实例，而是一个函数（"),e("code",[t._v("ref")]),t._v("属性不能应用在函数上）\n"),e("img",{attrs:{src:s(427),alt:"alt"}})])]),t._v(" "),e("h3",{attrs:{id:"解决方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[t._v("#")]),t._v(" 解决方案：")]),t._v(" "),e("p",[t._v("使用"),e("code",[t._v("React.forwardRef")]),t._v("。它会创建一个组件，并将其接受到的"),e("code",[t._v("ref")]),t._v("属性转发到其组件树下的另一个组件中。（提供支持ref）")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" forwardRef "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" RateQuest "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("forwardRef")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ref")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 原来stateless component里的内容 */")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("h3",{attrs:{id:"效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#效果"}},[t._v("#")]),t._v(" 效果：")]),t._v(" "),e("p",[t._v("此时的组件就是一个实例了：")]),t._v(" "),e("p",[e("img",{attrs:{src:s(428),alt:"alt"}})]),t._v(" "),e("p",[t._v("后面的使用方法就和原来一样了："),e("code",[t._v("<RateQuest {...props} />")])]),t._v(" "),e("p",[t._v("参考链接：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/react-api.html#reactforwardref",target:"_blank",rel:"noopener noreferrer"}},[t._v("React.forwardRef"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/ant-design/ant-design/issues/16386",target:"_blank",rel:"noopener noreferrer"}},[t._v("自定义或第三方的表单控件，也可以与antd Form组件一起使用，需遵循3个约定"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"react里对于const存不存在暂时性死区"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react里对于const存不存在暂时性死区"}},[t._v("#")]),t._v(" React里对于const存不存在暂时性死区？")]),t._v(" "),e("h3",{attrs:{id:"产生原因"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#产生原因"}},[t._v("#")]),t._v(" 产生原因")]),t._v(" "),e("p",[e("img",{attrs:{src:s(429),alt:"alt"}})]),t._v(" "),e("p",[t._v("明明"),e("code",[t._v("RateQuest")]),t._v("是一个const变量（值为一个函数），为何在"),e("code",[t._v("123")]),t._v("处，可以输出undefined，而不是"),e("code",[t._v("未定义？")])]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("一般const会存在暂时性死区：\n若在const变量所在的代码块范围内，在其声明前的其它语句不允许访问该变量。\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[e("img",{attrs:{src:s(430),alt:"alt"}})]),t._v(" "),e("h2",{attrs:{id:"warning-componentwillreceiveprops-has-been-renamed-and-is-not-recommended-for-use-see-https-fb-me-react-async-component-lifecycle-hooks-for-details"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#warning-componentwillreceiveprops-has-been-renamed-and-is-not-recommended-for-use-see-https-fb-me-react-async-component-lifecycle-hooks-for-details"}},[t._v("#")]),t._v(" Warning: componentWillReceiveProps has been renamed, and is not recommended for use. See https://fb.me/react-async-component-lifecycle-hooks for details.")]),t._v(" "),e("h3",{attrs:{id:"产生原因-antd组件库有些还用到componentwillreceiveprops的方法-目前正在迁移"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#产生原因-antd组件库有些还用到componentwillreceiveprops的方法-目前正在迁移"}},[t._v("#")]),t._v(" 产生原因：antd组件库有些还用到componentWillReceiveProps的方法，目前正在迁移")]),t._v(" "),e("h3",{attrs:{id:"解决方案-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案-2"}},[t._v("#")]),t._v(" 解决方案：")]),t._v(" "),e("ul",[e("li",[t._v("Antd版本升级至4.0（"),e("em",[t._v("尚未发布")]),t._v("）")]),t._v(" "),e("li",[t._v("React版本下降至16.8.6（"),e("em",[t._v("不推荐")]),t._v("）")]),t._v(" "),e("li",[t._v("无视该warning")])]),t._v(" "),e("p",[t._v("参考链接：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/ant-design/ant-design/issues/9792",target:"_blank",rel:"noopener noreferrer"}},[t._v("Migrate to new lifecycle methods"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"react-hot-loader配置导致打包后的路由不跳转"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-hot-loader配置导致打包后的路由不跳转"}},[t._v("#")]),t._v(" React-hot-loader配置导致打包后的路由不跳转")]),t._v(" "),e("h3",{attrs:{id:"产生原因-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#产生原因-2"}},[t._v("#")]),t._v(" 产生原因")]),t._v(" "),e("p",[t._v("将"),e("code",[t._v("webpack")]),t._v("的alias配置打包进了"),e("code",[t._v("prod")]),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"解决方案-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案-3"}},[t._v("#")]),t._v(" 解决方案：")]),t._v(" "),e("p",[t._v("方案一：只将alias配置进"),e("code",[t._v("webpack.config.dev.js")])]),t._v(" "),e("p",[t._v("方案二：在yarn包的层面就将"),e("code",[t._v("react-dom")]),t._v("加个补丁")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("yarn add react-dom@npm:@hot-loader/react-dom\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("参考链接：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/hot-loader/react-dom",target:"_blank",rel:"noopener noreferrer"}},[t._v("hot-loader/react-dom"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"favicon-ico找不到"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#favicon-ico找不到"}},[t._v("#")]),t._v(" favicon.ico找不到？")]),t._v(" "),e("h3",{attrs:{id:"产生原因-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#产生原因-3"}},[t._v("#")]),t._v(" 产生原因")]),t._v(" "),e("p",[t._v("在"),e("code",[t._v("index.html")]),t._v("中设置了"),e("code",[t._v("<link>")]),t._v("，但是网站图标却404。")]),t._v(" "),e("div",{staticClass:"language-html line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("shortcut icon"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("favicon.ico"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h3",{attrs:{id:"解决方案-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案-4"}},[t._v("#")]),t._v(" 解决方案：")]),t._v(" "),e("p",[t._v("在"),e("code",[t._v("webpack.config.js")]),t._v("中")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" HtmlWebpackPlugin "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'html-webpack-plugin'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    plugins"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HtmlWebpackPlugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            favicon"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./public/favicon.ico'")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("h2",{attrs:{id:"warning-package-json-no-license-field"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#warning-package-json-no-license-field"}},[t._v("#")]),t._v(" warning ../../package.json: No license field")]),t._v(" "),e("h3",{attrs:{id:"产生原因-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#产生原因-4"}},[t._v("#")]),t._v(" 产生原因")]),t._v(" "),e("p",[e("code",[t._v("yarn")]),t._v("和"),e("code",[t._v("npm")]),t._v("默认行为是会进入父目录查找"),e("code",[t._v("package.json")])]),t._v(" "),e("h3",{attrs:{id:"解决方案-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案-5"}},[t._v("#")]),t._v(" 解决方案：")]),t._v(" "),e("p",[t._v("若是"),e("code",[t._v("MAC")]),t._v("，进入"),e("code",[t._v("~")]),t._v("文件夹，将"),e("code",[t._v("package.json")]),t._v("删除。")]),t._v(" "),e("h2",{attrs:{id:"npm-warn-lifecycle-the-node-binary-used-for-scripts-is-var-folders-db-bc53rp1d2ks-2yxcgvb4kb2h0000gn-t-yarn-1569291634982-0-6225204723113884-node-but-npm-is-using-usr-local-bin-node-itself-use-the-scripts-prepend-node-path-option-to-include-the-path-for-the-node-binary-npm-was-executed-with"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm-warn-lifecycle-the-node-binary-used-for-scripts-is-var-folders-db-bc53rp1d2ks-2yxcgvb4kb2h0000gn-t-yarn-1569291634982-0-6225204723113884-node-but-npm-is-using-usr-local-bin-node-itself-use-the-scripts-prepend-node-path-option-to-include-the-path-for-the-node-binary-npm-was-executed-with"}},[t._v("#")]),t._v(" npm WARN lifecycle The node binary used for scripts is /var/folders/db/bc53rp1d2ks_2yxcgvb4kb2h0000gn/T/yarn--1569291634982-0.6225204723113884/node but npm is using /usr/local/bin/node itself. Use the "),e("code",[t._v("--scripts-prepend-node-path")]),t._v(" option to include the path for the node binary npm was executed with.")]),t._v(" "),e("h3",{attrs:{id:"解决方案-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案-6"}},[t._v("#")]),t._v(" 解决方案：")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm config set scripts-prepend-node-path true\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h2",{attrs:{id:"typeerror-func-apply-is-not-a-function"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#typeerror-func-apply-is-not-a-function"}},[t._v("#")]),t._v(" TypeError: func.apply is not a function")]),t._v(" "),e("h3",{attrs:{id:"产生原因-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#产生原因-5"}},[t._v("#")]),t._v(" 产生原因")]),t._v(" "),e("p",[t._v("在某个"),e("code",[t._v("useEffect")]),t._v("里返回了一个值，而不是函数")]),t._v(" "),e("p",[t._v("假设有一个函数")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fetchTask")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*...*/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Error")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchTask")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// OK")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchTask")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("h3",{attrs:{id:"解决方案-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案-7"}},[t._v("#")]),t._v(" 解决方案")]),t._v(" "),e("p",[t._v("去掉从"),e("code",[t._v("useEffect")]),t._v("中隐式返回的（除了false）值")]),t._v(" "),e("blockquote",[e("p",[t._v("地址：https://github.com/facebook/react/issues/14838")])]),t._v(" "),e("h2",{attrs:{id:"打开控制台出现很多warning-warning-devtools-failed-to-parse-sourcemap"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打开控制台出现很多warning-warning-devtools-failed-to-parse-sourcemap"}},[t._v("#")]),t._v(" 打开控制台出现很多warning：warning：DevTools failed to parse SourceMap")]),t._v(" "),e("h3",{attrs:{id:"产生原因-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#产生原因-6"}},[t._v("#")]),t._v(" 产生原因")]),t._v(" "),e("p",[t._v("应该是webpack升级导致的DllPlugin内部机制发生变化了，没有把node_modules里对应sourcemap打进dll文件里")]),t._v(" "),e("h3",{attrs:{id:"解决方案-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案-8"}},[t._v("#")]),t._v(" 解决方案")]),t._v(" "),e("p",[t._v("在dll的配置文件"),e("code",[t._v("dll.config.js")]),t._v("中，新增：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\ndevtool"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cheap-module-eval-source-map'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h2",{attrs:{id:"ts提示找不到模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ts提示找不到模块"}},[t._v("#")]),t._v(" ts提示找不到模块")]),t._v(" "),e("h3",{attrs:{id:"产生原因-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#产生原因-7"}},[t._v("#")]),t._v(" 产生原因")]),t._v(" "),e("p",[t._v("使用了webpack.alias，但编译器找不到别名信息。")]),t._v(" "),e("h3",{attrs:{id:"解决方案-9"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案-9"}},[t._v("#")]),t._v(" 解决方案")]),t._v(" "),e("p",[t._v('先确保tsconfig.json中paths字段（下面是例子）\n"paths": {\n"@/'),e("em",[t._v('": ["src/')]),t._v('"],\n"@ant-design/icons/lib/dist$": ["src/utils/antd-icon.js"],\n"react-dom": ["@hot-loader/react-dom"]\n}\n若依然报错，重启编译器即可（VSCode只在项目加载时读取配置文件）')])])}),[],!1,null,null,null);a.default=n.exports}}]);