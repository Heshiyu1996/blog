<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue基础知识 | Heshiyu&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog/favicon.png">
    <link rel="manifest" href="/blog/favicon.png">
    <link rel="apple-touch-icon" href="/blog/favicon.png">
    <link rel="mask-icon" href="/blog/favicon.png" color="#3eaf7c">
    <meta name="description" content=" ">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="expires" cotent="0">
    <meta http-quiv="pragma" cotent="no-cache, must-revalidate">
    <meta name="viewport" content="width=device-width,width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <link rel="preload" href="/blog/assets/css/0.styles.f3b305dc.css" as="style"><link rel="preload" href="/blog/assets/js/app.209f093b.js" as="script"><link rel="preload" href="/blog/assets/js/2.b4270a8a.js" as="script"><link rel="preload" href="/blog/assets/js/14.ced142d6.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.339f5947.js"><link rel="prefetch" href="/blog/assets/js/100.ab80963b.js"><link rel="prefetch" href="/blog/assets/js/101.2c14c6c4.js"><link rel="prefetch" href="/blog/assets/js/102.f83fbc46.js"><link rel="prefetch" href="/blog/assets/js/103.e27cb048.js"><link rel="prefetch" href="/blog/assets/js/104.2b8c5486.js"><link rel="prefetch" href="/blog/assets/js/105.c9fda933.js"><link rel="prefetch" href="/blog/assets/js/106.fb3cb2d4.js"><link rel="prefetch" href="/blog/assets/js/107.b17fd0ba.js"><link rel="prefetch" href="/blog/assets/js/108.8f53ca17.js"><link rel="prefetch" href="/blog/assets/js/109.275ba654.js"><link rel="prefetch" href="/blog/assets/js/11.274eb2f7.js"><link rel="prefetch" href="/blog/assets/js/110.ce307871.js"><link rel="prefetch" href="/blog/assets/js/111.7b8d0571.js"><link rel="prefetch" href="/blog/assets/js/112.b8b8c51c.js"><link rel="prefetch" href="/blog/assets/js/113.97db34eb.js"><link rel="prefetch" href="/blog/assets/js/114.fbe93be3.js"><link rel="prefetch" href="/blog/assets/js/115.6e5b55e7.js"><link rel="prefetch" href="/blog/assets/js/116.3d50d67b.js"><link rel="prefetch" href="/blog/assets/js/117.eee13489.js"><link rel="prefetch" href="/blog/assets/js/118.3cc8bf38.js"><link rel="prefetch" href="/blog/assets/js/119.05400da7.js"><link rel="prefetch" href="/blog/assets/js/12.2c9457ec.js"><link rel="prefetch" href="/blog/assets/js/120.262ee91d.js"><link rel="prefetch" href="/blog/assets/js/121.44bbcc4f.js"><link rel="prefetch" href="/blog/assets/js/122.4d6fc54f.js"><link rel="prefetch" href="/blog/assets/js/123.d8589aa3.js"><link rel="prefetch" href="/blog/assets/js/124.e313b961.js"><link rel="prefetch" href="/blog/assets/js/125.ddfb97bd.js"><link rel="prefetch" href="/blog/assets/js/126.6fabe88b.js"><link rel="prefetch" href="/blog/assets/js/127.b28c5e68.js"><link rel="prefetch" href="/blog/assets/js/128.1febc323.js"><link rel="prefetch" href="/blog/assets/js/129.988e6ea3.js"><link rel="prefetch" href="/blog/assets/js/13.b8bffb2a.js"><link rel="prefetch" href="/blog/assets/js/130.88bd33fe.js"><link rel="prefetch" href="/blog/assets/js/131.989811e8.js"><link rel="prefetch" href="/blog/assets/js/132.5c5a4ddd.js"><link rel="prefetch" href="/blog/assets/js/133.1283a790.js"><link rel="prefetch" href="/blog/assets/js/134.abc803fe.js"><link rel="prefetch" href="/blog/assets/js/135.4f4c22ba.js"><link rel="prefetch" href="/blog/assets/js/136.1df96aea.js"><link rel="prefetch" href="/blog/assets/js/137.98c14067.js"><link rel="prefetch" href="/blog/assets/js/138.cf870798.js"><link rel="prefetch" href="/blog/assets/js/139.3d16446f.js"><link rel="prefetch" href="/blog/assets/js/140.3ce24601.js"><link rel="prefetch" href="/blog/assets/js/141.b80df3e9.js"><link rel="prefetch" href="/blog/assets/js/142.4c600adb.js"><link rel="prefetch" href="/blog/assets/js/143.3dc4d279.js"><link rel="prefetch" href="/blog/assets/js/144.e6ed4908.js"><link rel="prefetch" href="/blog/assets/js/145.df789304.js"><link rel="prefetch" href="/blog/assets/js/146.30e8df4c.js"><link rel="prefetch" href="/blog/assets/js/147.7c0f1ea7.js"><link rel="prefetch" href="/blog/assets/js/148.4e10d423.js"><link rel="prefetch" href="/blog/assets/js/149.f9ea9fd0.js"><link rel="prefetch" href="/blog/assets/js/15.5aaf76b4.js"><link rel="prefetch" href="/blog/assets/js/150.0718d308.js"><link rel="prefetch" href="/blog/assets/js/151.d6aac3d8.js"><link rel="prefetch" href="/blog/assets/js/152.1eb47846.js"><link rel="prefetch" href="/blog/assets/js/153.54acb492.js"><link rel="prefetch" href="/blog/assets/js/154.8c7098e7.js"><link rel="prefetch" href="/blog/assets/js/155.702d9720.js"><link rel="prefetch" href="/blog/assets/js/156.c4ae2723.js"><link rel="prefetch" href="/blog/assets/js/157.74b8dac4.js"><link rel="prefetch" href="/blog/assets/js/158.614c997e.js"><link rel="prefetch" href="/blog/assets/js/159.2862f4fb.js"><link rel="prefetch" href="/blog/assets/js/16.f5b66b34.js"><link rel="prefetch" href="/blog/assets/js/160.b99aa9fc.js"><link rel="prefetch" href="/blog/assets/js/161.36d8a004.js"><link rel="prefetch" href="/blog/assets/js/162.47c4457d.js"><link rel="prefetch" href="/blog/assets/js/163.18f22113.js"><link rel="prefetch" href="/blog/assets/js/164.fe7f7eb9.js"><link rel="prefetch" href="/blog/assets/js/165.205aebe8.js"><link rel="prefetch" href="/blog/assets/js/166.05eafb1d.js"><link rel="prefetch" href="/blog/assets/js/167.163de762.js"><link rel="prefetch" href="/blog/assets/js/168.2b89b0cf.js"><link rel="prefetch" href="/blog/assets/js/169.58907f68.js"><link rel="prefetch" href="/blog/assets/js/17.2b14844a.js"><link rel="prefetch" href="/blog/assets/js/170.5d3a3997.js"><link rel="prefetch" href="/blog/assets/js/171.0a6630d2.js"><link rel="prefetch" href="/blog/assets/js/172.0fe29856.js"><link rel="prefetch" href="/blog/assets/js/173.9a02fd8c.js"><link rel="prefetch" href="/blog/assets/js/174.234c39e2.js"><link rel="prefetch" href="/blog/assets/js/175.3dc6e7ca.js"><link rel="prefetch" href="/blog/assets/js/176.20248e35.js"><link rel="prefetch" href="/blog/assets/js/177.71637b0f.js"><link rel="prefetch" href="/blog/assets/js/178.2accbd24.js"><link rel="prefetch" href="/blog/assets/js/179.1a725bdb.js"><link rel="prefetch" href="/blog/assets/js/18.15dbbe0c.js"><link rel="prefetch" href="/blog/assets/js/180.d61d837e.js"><link rel="prefetch" href="/blog/assets/js/181.e980e97f.js"><link rel="prefetch" href="/blog/assets/js/182.aa2d5ae7.js"><link rel="prefetch" href="/blog/assets/js/183.bf6aaf89.js"><link rel="prefetch" href="/blog/assets/js/184.5044f410.js"><link rel="prefetch" href="/blog/assets/js/185.b0a35a79.js"><link rel="prefetch" href="/blog/assets/js/186.4ab4ed2c.js"><link rel="prefetch" href="/blog/assets/js/187.1d25f34a.js"><link rel="prefetch" href="/blog/assets/js/188.850a0620.js"><link rel="prefetch" href="/blog/assets/js/189.5d98dbdc.js"><link rel="prefetch" href="/blog/assets/js/19.22354c72.js"><link rel="prefetch" href="/blog/assets/js/190.6df9ffe9.js"><link rel="prefetch" href="/blog/assets/js/191.ff626e97.js"><link rel="prefetch" href="/blog/assets/js/192.4d0be1bf.js"><link rel="prefetch" href="/blog/assets/js/193.64349f63.js"><link rel="prefetch" href="/blog/assets/js/194.e0616164.js"><link rel="prefetch" href="/blog/assets/js/20.338232eb.js"><link rel="prefetch" href="/blog/assets/js/21.ccb15356.js"><link rel="prefetch" href="/blog/assets/js/22.743e2c34.js"><link rel="prefetch" href="/blog/assets/js/23.cdd9345b.js"><link rel="prefetch" href="/blog/assets/js/24.45ba1767.js"><link rel="prefetch" href="/blog/assets/js/25.7efb1c0e.js"><link rel="prefetch" href="/blog/assets/js/26.ab221922.js"><link rel="prefetch" href="/blog/assets/js/27.f3eb7ffb.js"><link rel="prefetch" href="/blog/assets/js/28.3bb28a32.js"><link rel="prefetch" href="/blog/assets/js/29.2d3a6b69.js"><link rel="prefetch" href="/blog/assets/js/3.6e8f4466.js"><link rel="prefetch" href="/blog/assets/js/30.d178241d.js"><link rel="prefetch" href="/blog/assets/js/31.17ad23f1.js"><link rel="prefetch" href="/blog/assets/js/32.a97da663.js"><link rel="prefetch" href="/blog/assets/js/33.f3c98b68.js"><link rel="prefetch" href="/blog/assets/js/34.8c60c5ee.js"><link rel="prefetch" href="/blog/assets/js/35.d03aff4a.js"><link rel="prefetch" href="/blog/assets/js/36.bfb69e94.js"><link rel="prefetch" href="/blog/assets/js/37.177e001a.js"><link rel="prefetch" href="/blog/assets/js/38.53e01a4c.js"><link rel="prefetch" href="/blog/assets/js/39.141b89ce.js"><link rel="prefetch" href="/blog/assets/js/4.edf6b75e.js"><link rel="prefetch" href="/blog/assets/js/40.15b63871.js"><link rel="prefetch" href="/blog/assets/js/41.873ab8f2.js"><link rel="prefetch" href="/blog/assets/js/42.b523cb93.js"><link rel="prefetch" href="/blog/assets/js/43.0236b284.js"><link rel="prefetch" href="/blog/assets/js/44.11183afb.js"><link rel="prefetch" href="/blog/assets/js/45.92361b8b.js"><link rel="prefetch" href="/blog/assets/js/46.41d6cb4e.js"><link rel="prefetch" href="/blog/assets/js/47.5f87d0f5.js"><link rel="prefetch" href="/blog/assets/js/48.63e5abcb.js"><link rel="prefetch" href="/blog/assets/js/49.6d1d0e00.js"><link rel="prefetch" href="/blog/assets/js/5.7a340c95.js"><link rel="prefetch" href="/blog/assets/js/50.52f819f6.js"><link rel="prefetch" href="/blog/assets/js/51.51420c48.js"><link rel="prefetch" href="/blog/assets/js/52.aac4d19a.js"><link rel="prefetch" href="/blog/assets/js/53.f6d41362.js"><link rel="prefetch" href="/blog/assets/js/54.ff44409b.js"><link rel="prefetch" href="/blog/assets/js/55.7c5371f0.js"><link rel="prefetch" href="/blog/assets/js/56.0ad04af7.js"><link rel="prefetch" href="/blog/assets/js/57.3d0624c3.js"><link rel="prefetch" href="/blog/assets/js/58.11c5fdc5.js"><link rel="prefetch" href="/blog/assets/js/59.74acf14e.js"><link rel="prefetch" href="/blog/assets/js/6.29edfd14.js"><link rel="prefetch" href="/blog/assets/js/60.be638a04.js"><link rel="prefetch" href="/blog/assets/js/61.6b37fbf5.js"><link rel="prefetch" href="/blog/assets/js/62.c04c0d0e.js"><link rel="prefetch" href="/blog/assets/js/63.4404ca03.js"><link rel="prefetch" href="/blog/assets/js/64.bd1af6d0.js"><link rel="prefetch" href="/blog/assets/js/65.f0165026.js"><link rel="prefetch" href="/blog/assets/js/66.ab6ae7a1.js"><link rel="prefetch" href="/blog/assets/js/67.6e76ed69.js"><link rel="prefetch" href="/blog/assets/js/68.aea6c52a.js"><link rel="prefetch" href="/blog/assets/js/69.36b1de75.js"><link rel="prefetch" href="/blog/assets/js/7.8119d2aa.js"><link rel="prefetch" href="/blog/assets/js/70.1cce33e7.js"><link rel="prefetch" href="/blog/assets/js/71.820308b8.js"><link rel="prefetch" href="/blog/assets/js/72.d3ef2f97.js"><link rel="prefetch" href="/blog/assets/js/73.c81396ed.js"><link rel="prefetch" href="/blog/assets/js/74.e22dcbcb.js"><link rel="prefetch" href="/blog/assets/js/75.3898d7da.js"><link rel="prefetch" href="/blog/assets/js/76.be3d80a8.js"><link rel="prefetch" href="/blog/assets/js/77.098a974d.js"><link rel="prefetch" href="/blog/assets/js/78.2abe05e1.js"><link rel="prefetch" href="/blog/assets/js/79.bdcd471c.js"><link rel="prefetch" href="/blog/assets/js/8.297ec135.js"><link rel="prefetch" href="/blog/assets/js/80.5d37d2a0.js"><link rel="prefetch" href="/blog/assets/js/81.c4ecb646.js"><link rel="prefetch" href="/blog/assets/js/82.19540c6e.js"><link rel="prefetch" href="/blog/assets/js/83.ff527d33.js"><link rel="prefetch" href="/blog/assets/js/84.0a5f4434.js"><link rel="prefetch" href="/blog/assets/js/85.4bfcbc62.js"><link rel="prefetch" href="/blog/assets/js/86.2090dc6f.js"><link rel="prefetch" href="/blog/assets/js/87.36fdfd7e.js"><link rel="prefetch" href="/blog/assets/js/88.e62aaf12.js"><link rel="prefetch" href="/blog/assets/js/89.d89f4a5b.js"><link rel="prefetch" href="/blog/assets/js/9.05708d36.js"><link rel="prefetch" href="/blog/assets/js/90.1b11884e.js"><link rel="prefetch" href="/blog/assets/js/91.8829546d.js"><link rel="prefetch" href="/blog/assets/js/92.b43a0157.js"><link rel="prefetch" href="/blog/assets/js/93.02c47c55.js"><link rel="prefetch" href="/blog/assets/js/94.0984de88.js"><link rel="prefetch" href="/blog/assets/js/95.283525db.js"><link rel="prefetch" href="/blog/assets/js/96.f2666003.js"><link rel="prefetch" href="/blog/assets/js/97.13608523.js"><link rel="prefetch" href="/blog/assets/js/98.5f2fbf82.js"><link rel="prefetch" href="/blog/assets/js/99.caef36ff.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.f3b305dc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Heshiyu's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/overview/" class="nav-link">
  总览
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/skill/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/blog/skill/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/blog/skill/js/" class="nav-link">
  JS
</a></li><li class="dropdown-subitem"><a href="/blog/skill/web/" class="nav-link">
  Web
</a></li></ul></li><li class="dropdown-item"><h4>
          框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/skill/react/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/blog/skill/vue/" class="nav-link router-link-active">
  Vue
</a></li><li class="dropdown-subitem"><a href="/blog/skill/nodejs/" class="nav-link">
  NodeJS
</a></li></ul></li><li class="dropdown-item"><h4>
          其它
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/skill/computeracy/" class="nav-link">
  计算机
</a></li><li class="dropdown-subitem"><a href="/blog/skill/algorithm/" class="nav-link">
  算法
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实践" class="dropdown-title"><span class="title">实践</span> <span class="arrow down"></span></button> <button type="button" aria-label="实践" class="mobile-dropdown-title"><span class="title">实践</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          平台
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/business/practice/h5/" class="nav-link">
  H5
</a></li><li class="dropdown-subitem"><a href="/blog/business/practice/pc/" class="nav-link">
  PC
</a></li><li class="dropdown-subitem"><a href="/blog/business/practice/rn/" class="nav-link">
  RN
</a></li><li class="dropdown-subitem"><a href="/blog/business/practice/other/" class="nav-link">
  其它
</a></li></ul></li><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/business/tool/" class="nav-link">
  工程工具
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="周边" class="dropdown-title"><span class="title">周边</span> <span class="arrow down"></span></button> <button type="button" aria-label="周边" class="mobile-dropdown-title"><span class="title">周边</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          产出
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/other/output/standard/js/" class="nav-link">
  前端规范
</a></li><li class="dropdown-subitem"><a href="/blog/other/output/fruit/template/" class="nav-link">
  前端工程模板（React）
</a></li></ul></li><li class="dropdown-item"><h4>
          心得
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/other/feeling/" class="nav-link">
  读书/参会心得
</a></li><li class="dropdown-subitem"><a href="/blog/other/review/" class="nav-link">
  梳理
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/tool/" class="nav-link">
  工具
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/overview/" class="nav-link">
  总览
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/skill/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/blog/skill/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/blog/skill/js/" class="nav-link">
  JS
</a></li><li class="dropdown-subitem"><a href="/blog/skill/web/" class="nav-link">
  Web
</a></li></ul></li><li class="dropdown-item"><h4>
          框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/skill/react/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/blog/skill/vue/" class="nav-link router-link-active">
  Vue
</a></li><li class="dropdown-subitem"><a href="/blog/skill/nodejs/" class="nav-link">
  NodeJS
</a></li></ul></li><li class="dropdown-item"><h4>
          其它
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/skill/computeracy/" class="nav-link">
  计算机
</a></li><li class="dropdown-subitem"><a href="/blog/skill/algorithm/" class="nav-link">
  算法
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实践" class="dropdown-title"><span class="title">实践</span> <span class="arrow down"></span></button> <button type="button" aria-label="实践" class="mobile-dropdown-title"><span class="title">实践</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          平台
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/business/practice/h5/" class="nav-link">
  H5
</a></li><li class="dropdown-subitem"><a href="/blog/business/practice/pc/" class="nav-link">
  PC
</a></li><li class="dropdown-subitem"><a href="/blog/business/practice/rn/" class="nav-link">
  RN
</a></li><li class="dropdown-subitem"><a href="/blog/business/practice/other/" class="nav-link">
  其它
</a></li></ul></li><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/business/tool/" class="nav-link">
  工程工具
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="周边" class="dropdown-title"><span class="title">周边</span> <span class="arrow down"></span></button> <button type="button" aria-label="周边" class="mobile-dropdown-title"><span class="title">周边</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          产出
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/other/output/standard/js/" class="nav-link">
  前端规范
</a></li><li class="dropdown-subitem"><a href="/blog/other/output/fruit/template/" class="nav-link">
  前端工程模板（React）
</a></li></ul></li><li class="dropdown-item"><h4>
          心得
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/other/feeling/" class="nav-link">
  读书/参会心得
</a></li><li class="dropdown-subitem"><a href="/blog/other/review/" class="nav-link">
  梳理
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/tool/" class="nav-link">
  工具
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>《Vue》</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skill/vue/basic/" aria-current="page" class="active sidebar-link">Vue基础知识</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skill/vue/basic/#什么是mvvm" class="sidebar-link">什么是MVVM？</a></li><li class="sidebar-sub-header"><a href="/blog/skill/vue/basic/#数据双向绑定" class="sidebar-link">数据双向绑定</a></li><li class="sidebar-sub-header"><a href="/blog/skill/vue/basic/#vue-vs-react" class="sidebar-link">Vue VS React</a></li><li class="sidebar-sub-header"><a href="/blog/skill/vue/basic/#参考链接" class="sidebar-link">参考链接</a></li><li class="sidebar-sub-header"><a href="/blog/skill/vue/basic/#observer、dep、watcher源码" class="sidebar-link">Observer、Dep、Watcher源码</a></li></ul></li><li><a href="/blog/skill/vue/life-cycle/" class="sidebar-link">生命周期</a></li><li><a href="/blog/skill/vue/feature-v3/" class="sidebar-link">Vue3.0新特性</a></li><li><a href="/blog/skill/vue/keep-alive/" class="sidebar-link">KeepAlive</a></li><li><a href="/blog/skill/vue/optimize/" class="sidebar-link">性能优化</a></li><li><a href="/blog/skill/vue/question/" class="sidebar-link">Vue常见的易错用法</a></li><li><a href="/blog/skill/vue/component-lib/" class="sidebar-link">组件开发思路</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>源码解读</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skill/vue/build/" class="sidebar-link">基本知识</a></li><li><a href="/blog/skill/vue/data-driven/" class="sidebar-link">数据驱动（Data Driven）</a></li><li><a href="/blog/skill/vue/component/" class="sidebar-link">组件化（Component）</a></li><li><a href="/blog/skill/vue/vue-router/" class="sidebar-link">Vue Router实现思路</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue基础知识"><a href="#vue基础知识" class="header-anchor">#</a> Vue基础知识</h1> <p></p><div class="table-of-contents"><ul><li><a href="#vue基础知识">Vue基础知识</a><ul><li><a href="#什么是mvvm">什么是MVVM？</a></li><li><a href="#数据双向绑定">数据双向绑定</a></li><li><a href="#vue-vs-react">Vue VS React</a></li><li><a href="#参考链接">参考链接</a></li><li><a href="#observer、dep、watcher源码">Observer、Dep、Watcher源码</a></li></ul></li></ul></div><p></p> <h2 id="什么是mvvm"><a href="#什么是mvvm" class="header-anchor">#</a> 什么是MVVM？</h2> <p><code>M</code>：Model层，代表 <strong>模型、数据</strong>。负责数据修改、操作的业务逻辑</p> <p><code>V</code>：View层，代表 <strong>视图、模板</strong>。负责将数据模型转化UI展现出来</p> <p><code>VM</code>：ViewModel层，将 <code>View</code> 和 <code>Model</code> 连接起来</p> <ul><li>将 Model层 的数据<code>同步</code>到 View层 ，进行渲染</li> <li>将 View层 的修改<code>同步</code>到 Model层 ，进行存储</li></ul> <p><img src="data:image/png;base64,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" alt="alt"></p> <p><strong>Vue框架充当了MVVM开发模式中的 <code>ViewModel</code> 层，负责 <code>View</code> 和 <code>Model</code> 之间通信的桥梁。</strong></p> <p><img src="/blog/assets/img/img-3.d74bbacd.png" alt="alt"></p> <h3 id="mvvm的实现原理"><a href="#mvvm的实现原理" class="header-anchor">#</a> MVVM的实现原理</h3> <p>如何监听JS对象属性发生了变更？</p> <ul><li><code>Vue.js</code> 通过 <strong>数据劫持</strong>、<strong>发布订阅</strong>。</li></ul> <blockquote><p>当数据变动时，数据会触发劫持时绑定的方法，对视图进行更新。</p></blockquote> <ul><li><code>Angular.js</code>/<code>RegularJS</code> 通过 <strong>脏检查</strong>。</li></ul> <blockquote><p>在各种可能引发状态变更的事件后，启动一次脏检查，来决定是否更新视图。（数据模型本身无状态）</p></blockquote> <p><strong>数据劫持</strong>、<strong>脏检查</strong> 的相同点：</p> <ul><li>解析模板</li> <li>解析数据</li> <li>绑定模板与数据</li></ul> <h2 id="数据双向绑定"><a href="#数据双向绑定" class="header-anchor">#</a> 数据双向绑定</h2> <p><img src="/blog/assets/img/img-4.7ec50ae1.png" alt="alt"></p> <p><code>Vue</code>是通过 <strong>数据劫持</strong> + <strong>发布订阅</strong> 来实现 <strong>数据双向绑定</strong> 的。</p> <p>在 <strong>初始化Vue实例</strong> 的 <code>initState</code>过程中，会对传入的 <code>data</code> 进行属性遍历。为每个属性，都通过 <code>Object.defineProperty</code> 改造它们的 <code>getter</code>、 <code>setter</code> 方法（<strong>数据劫持</strong> ）。对于每一个响应式属性，会绑定一个 <code>dep</code> 订阅器（<strong>发布订阅</strong> ），负责：</p> <ul><li>在 <code>getter</code> 时的 <strong>依赖收集</strong></li> <li>在 <code>setter</code> 时的 <strong>发布通知</strong></li></ul> <blockquote><p>1、如果 <code>data[key]</code> 是对象，进行深度劫持）</p> <p>2、其中的 <strong>订阅者</strong> 指的是一个个 <code>watcher</code> 实例。</p></blockquote> <h4 id="订阅者watcher"><a href="#订阅者watcher" class="header-anchor">#</a> 订阅者watcher</h4> <p>模板中每个指令（<code>v-model=&quot;name&quot;</code>）、数据绑定（<code>{ { name } }</code>）都会对应一个 <code>watcher</code> 对象。在模板的编译计算过程中，响应式属性（这里为 <code>name</code> ）会通过 <strong>getter依赖收集</strong> 将它（这里为<code>watcher</code>）记录为依赖。</p> <p>当响应式属性（这里为<code>name</code>）的 <strong>setter发布更新</strong> 被调用时，会触发它依赖列表中的 <code>watcher</code> 的重新计算（<code>watcher.update()</code>），也就会导致它的关联指令去更新DOM。</p> <p><img src="/blog/assets/img/img-5.d2de4246.png" alt="alt"></p> <h3 id="依赖收集"><a href="#依赖收集" class="header-anchor">#</a> 依赖收集</h3> <p><code>依赖收集</code> 发生在响应式属性的 <code>getter</code> 阶段，但不是每次 <code>getter</code> 都会收集依赖，会通过 <code>Dep.target</code> 来区分。</p> <blockquote><p>若 <code>Dep.target</code>有值，说明是Vue内部依赖收集过程触发的，需先收集依赖<code>this.dep.depend()</code>，再返回value；否则直接返回value即可。</p></blockquote> <blockquote><p>为什么要用Dep.target代表Watcher实例？答：因为getter函数不能传参</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Dep</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">depend</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Dep<span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">addDep</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="异步更新队列"><a href="#异步更新队列" class="header-anchor">#</a> 异步更新队列</h3> <p>Vue在更新 DOM 时是 <strong>异步</strong> 执行的。只要监听到数据变化，Vue将开启一个队列，并缓冲 <strong>在本次事件循环</strong> 中发生的所有数据变更。目的是为了<strong>避免不必要的计算和DOM操作</strong>。</p> <p>然后在 <strong>下次事件循环（tick）</strong> 中，<code>Vue</code>会刷新队列，并执行更新。</p> <p><code>Vue.nextTick(callback)</code>的回调函数，会 <strong>在 <code>Vue</code> 完成DOM更新后</strong> 立即执行。</p> <h2 id="vue-vs-react"><a href="#vue-vs-react" class="header-anchor">#</a> Vue VS React</h2> <p><strong>相同：</strong></p> <ul><li><strong>Virtual DOM</strong></li> <li><strong>组件化</strong> <ul><li>组件内部执行<code>render</code> -&gt; VNode树 -&gt; Diff -&gt; 真实DOM</li></ul></li> <li><strong>推崇“单向数据流”</strong> <ul><li>父组件传入数据给子组件，子组件不能直接修改父组件传过来的props</li></ul></li></ul> <p><strong>不同：</strong></p> <ul><li><strong>核心思想</strong> <ul><li>React：函数式编程、推崇JSX、组件复用HOC/Hooks</li> <li>Vue：双向绑定、推崇template、组件复用Mixin、单文件.vue</li></ul></li> <li><strong>组件的实现方式</strong> <ul><li>React：React.Component类、函数式组件返回的React元素；传入<code>ReactDOM.render()</code>去渲染</li> <li>Vue：options对象声明，实例化<code>new Vue()</code>，内部方法<code>initState</code>等</li></ul></li> <li><strong>Diff算法</strong> <ul><li>React：三个策略、三种细粒度Diff；从根组件重新渲染整棵树</li> <li>Vue：五种情况、四次比较、根据Key值查找匹配对象；更细粒度更新</li></ul></li></ul> <h2 id="参考链接"><a href="#参考链接" class="header-anchor">#</a> 参考链接</h2> <ul><li><a href="https://blog.csdn.net/shaleilei/article/details/78084171" target="_blank" rel="noopener noreferrer">为什么在vue的组件中，data要用function返回对象呢？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/5b2f0769e51d45589f46949e" target="_blank" rel="noopener noreferrer">Vue.js中的MVVM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/Ma63d/vue-analysis/issues/1" target="_blank" rel="noopener noreferrer">Vue源码详细解析(一)--数据的响应化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.jianshu.com/p/ac3e97365dc5" target="_blank" rel="noopener noreferrer">vue双向绑定原理简析(数据劫持+发布订阅)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="observer、dep、watcher源码"><a href="#observer、dep、watcher源码" class="header-anchor">#</a> Observer、Dep、Watcher源码</h2> <h3 id="observer监听器"><a href="#observer监听器" class="header-anchor">#</a> Observer监听器</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span> 
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">walk</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 遍历walk中所有的数据,劫持 set 和 get方法</span>
    <span class="token function">walk</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 判断data 不存在或者不是对象的情况</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>data <span class="token operator">||</span> <span class="token keyword">typeof</span> data <span class="token operator">!==</span><span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span>

        <span class="token comment">// 拿到data中所有的属性</span>
        Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 给data中的属性添加 getter和 setter方法</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">defineReactive</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span>key<span class="token punctuation">,</span>data<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token comment">// 如果data[key]是对象,深度劫持</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">walk</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 定义响应式数据</span>
    <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span>key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> _this <span class="token operator">=</span> <span class="token keyword">this</span>
        <span class="token keyword">let</span> dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// Dep函数请看下节实现</span>
        Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>key<span class="token punctuation">,</span><span class="token punctuation">{</span>
            enumerable<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">// 如果Dep.target 中有watcher 对象,则存储到订阅者数组中</span>
                Dep<span class="token punctuation">.</span>target <span class="token operator">&amp;&amp;</span> dep<span class="token punctuation">.</span><span class="token function">addSub</span><span class="token punctuation">(</span>Dep<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
                <span class="token keyword">return</span> value
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function">set</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">===</span> newVal<span class="token punctuation">)</span> <span class="token keyword">return</span>
                value <span class="token operator">=</span> newVal
                <span class="token comment">// 如果设置的值是一个对象,那么这个对象也应该是响应式的</span>
                _this<span class="token punctuation">.</span><span class="token function">walk</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span>
                <span class="token comment">// 发布通知,让所有订阅者更新内容</span>
                dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h3 id="dep订阅器"><a href="#dep订阅器" class="header-anchor">#</a> Dep订阅器</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Dep</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>subs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 用来存储订阅者</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 添加订阅者</span>
    <span class="token function">addSub</span><span class="token punctuation">(</span><span class="token parameter">watcher</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>watcher<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//通知订阅者</span>
    <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 通知所有订阅者更新视图</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">sub</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            sub<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="watcher订阅者"><a href="#watcher订阅者" class="header-anchor">#</a> Watcher订阅者</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Watcher</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * 
     * @param {*} vm 当前的vue实例 
     * @param {*} expr data中数据的名字
     * @param {*} callback  一旦数据改变,则需要调用callback
     */</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span>expr<span class="token punctuation">,</span>callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>vm <span class="token operator">=</span> vm
        <span class="token keyword">this</span><span class="token punctuation">.</span>expr <span class="token operator">=</span> expr 
        <span class="token keyword">this</span><span class="token punctuation">.</span>callback <span class="token operator">=</span> callback
        Dep<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">this</span>  <span class="token comment">// 全局变量 订阅者 赋值</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>oldValue <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getVMData</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span>expr<span class="token punctuation">)</span>  <span class="token comment">// 强制执行监听器Observer里的get函数</span>
        Dep<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">null</span>  <span class="token comment">//全局变量 订阅者 释放</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 对外暴露的方法,用于更新页面</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 对比expr是否发生改变,如果改变则调用callback</span>
        <span class="token keyword">let</span> oldValue <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>oldValue
        <span class="token keyword">let</span> newValue <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getVMData</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>vm<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>expr<span class="token punctuation">)</span>

        <span class="token comment">// 变化的时候调用callback</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>oldValue <span class="token operator">!==</span> newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>newValue<span class="token punctuation">,</span>oldValue<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">getVMData</span><span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span>expr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> data <span class="token operator">=</span> vm<span class="token punctuation">.</span>$data
        expr<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            data <span class="token operator">=</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> data
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h3 id="稍微了解mvc"><a href="#稍微了解mvc" class="header-anchor">#</a> 稍微了解MVC</h3> <p><img src="/blog/assets/img/img-6.fdbaa388.png" alt="alt"></p> <p><code>M</code>指的是Model层</p> <ul><li>用于封装和业务逻辑相关的数据、以及对数据处理的方法</li></ul> <p><code>V</code>指的是View层</p> <ul><li><strong>监听模型层上的数据改变</strong>，并实时更新页面</li></ul> <p><code>C</code>指的是Controller层</p> <ul><li>负责接收用户的操作，然后调用模型或视图去完成用户的操作</li></ul> <p><strong>本质：</strong> 将 <strong>数据展示</strong> 和 <strong>数据</strong> 进行隔离，提高代码的复用性和扩展性；</p> <p><strong>特点：</strong> 职责明确、相互分离；</p> <p><strong>和 MVVM 的区别：</strong> MCV耦合度较高。因为MVVM简化了View、Model的依赖，也解决了数据频繁更新的问题，不必再用选择器去操作DOM。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">11/21/2021, 2:45:24 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blog/skill/vue/life-cycle/">
        生命周期
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.209f093b.js" defer></script><script src="/blog/assets/js/2.b4270a8a.js" defer></script><script src="/blog/assets/js/14.ced142d6.js" defer></script>
  </body>
</html>
